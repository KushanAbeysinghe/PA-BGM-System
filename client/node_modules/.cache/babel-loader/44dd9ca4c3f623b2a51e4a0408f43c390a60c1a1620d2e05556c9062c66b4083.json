{"ast":null,"code":"import _toConsumableArray from\"C:/Users/kusha/Desktop/Radio Alarm System - Copy/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/kusha/Desktop/Radio Alarm System - Copy/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/kusha/Desktop/Radio Alarm System - Copy/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/kusha/Desktop/Radio Alarm System - Copy/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState,useEffect}from'react';import{useParams,Link,useNavigate}from'react-router-dom';import axios from'axios';import{differenceInHours}from'date-fns';import Footer from'./Footer';import Header from'./Header';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LocalPlayer=function LocalPlayer(){var _useParams=useParams(),id=_useParams.id;var navigate=useNavigate();var localAudioRef=useRef(null);var alarmAudioRef=useRef(null);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isMuted=_useState2[0],setIsMuted=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),volume=_useState4[0],setVolume=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),localTracks=_useState6[0],setLocalTracks=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),schedule=_useState8[0],setSchedule=_useState8[1];var _useState9=useState(''),_useState10=_slicedToArray(_useState9,2),newTrack=_useState10[0],setNewTrack=_useState10[1];var _useState11=useState(''),_useState12=_slicedToArray(_useState11,2),newTime=_useState12[0],setNewTime=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),alarmName=_useState14[0],setAlarmName=_useState14[1];// New state for alarm name\nvar _useState15=useState(new Date().toLocaleTimeString('en-GB',{hour12:false})),_useState16=_slicedToArray(_useState15,2),currentTime=_useState16[0],setCurrentTime=_useState16[1];var _useState17=useState(0),_useState18=_slicedToArray(_useState17,2),currentLocalTrackIndex=_useState18[0],setCurrentLocalTrackIndex=_useState18[1];var _useState19=useState(null),_useState20=_slicedToArray(_useState19,2),profile=_useState20[0],setProfile=_useState20[1];var _useState21=useState(''),_useState22=_slicedToArray(_useState21,2),errorMessage=_useState22[0],setErrorMessage=_useState22[1];var _useState23=useState(null),_useState24=_slicedToArray(_useState23,2),playingTrack=_useState24[0],setPlayingTrack=_useState24[1];var _useState25=useState(null),_useState26=_slicedToArray(_useState25,2),highlightEndTime=_useState26[0],setHighlightEndTime=_useState26[1];useEffect(function(){fetchProfile();fetchSchedule();loadLocalTracks();},[]);useEffect(function(){var interval=setInterval(function(){var now=new Date().toLocaleTimeString('en-GB',{hour12:false});setCurrentTime(now);var scheduledTrack=schedule.find(function(track){return track.time===now;});if(scheduledTrack){playScheduledTrack(scheduledTrack.track);}},1000);return function(){return clearInterval(interval);};},[schedule]);useEffect(function(){if(localAudioRef.current){localAudioRef.current.addEventListener('ended',handleLocalTrackEnd);}return function(){if(localAudioRef.current){localAudioRef.current.removeEventListener('ended',handleLocalTrackEnd);}};},[currentLocalTrackIndex,localTracks]);useEffect(function(){var interval=setInterval(function(){preloadNextTrack();},5000);// Check every 5 seconds to preload the next track\nreturn function(){return clearInterval(interval);};},[schedule,currentTime]);var fetchProfile=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/radiostreams/\".concat(id));case 3:response=_context.sent;setProfile(response.data);_context.next=11;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error('There was an error fetching the profile!',_context.t0);setErrorMessage('Failed to fetch profile');case 11:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchProfile(){return _ref.apply(this,arguments);};}();var fetchSchedule=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.get(\"/radio/\".concat(id,\"/schedule\"));case 3:response=_context2.sent;setSchedule(response.data);_context2.next=11;break;case 7:_context2.prev=7;_context2.t0=_context2[\"catch\"](0);console.error('There was an error fetching the schedule!',_context2.t0);setErrorMessage('Failed to fetch schedule');case 11:case\"end\":return _context2.stop();}},_callee2,null,[[0,7]]);}));return function fetchSchedule(){return _ref2.apply(this,arguments);};}();var handlePlay=function handlePlay(){playLocalTrack();};var handlePause=function handlePause(){if(localAudioRef.current){localAudioRef.current.pause();}};var handleMute=function handleMute(){var audioElement=localAudioRef.current;audioElement.muted=!audioElement.muted;setIsMuted(!isMuted);};var handleVolumeChange=function handleVolumeChange(event){var newVolume=event.target.value;localAudioRef.current.volume=newVolume;setVolume(newVolume);};var handleLocalFiles=function handleLocalFiles(event){var files=Array.from(event.target.files);setLocalTracks(files);if(files.length>0){setCurrentLocalTrackIndex(0);saveLocalTracksToStorage(files);}};var saveLocalTracksToStorage=function saveLocalTracksToStorage(files){var trackData=files.map(function(file){return{name:file.name,url:URL.createObjectURL(file)};});localStorage.setItem('localTracks',JSON.stringify(trackData));};var loadLocalTracks=function loadLocalTracks(){var savedTracks=localStorage.getItem('localTracks');if(savedTracks){var trackData=JSON.parse(savedTracks);var fileObjects=trackData.map(function(data){return new File([new Blob([])],data.name);});setLocalTracks(fileObjects);}};var playScheduledTrack=function playScheduledTrack(track){if(!profile||profile.alarmBlocked||!localAudioRef.current||!alarmAudioRef.current)return;setPlayingTrack(track);fadeOut(localAudioRef.current,function(){alarmAudioRef.current.src=\"/uploads/tracks/\".concat(track);console.log('Track source set to:',alarmAudioRef.current.src);alarmAudioRef.current.load();alarmAudioRef.current.oncanplaythrough=function(){alarmAudioRef.current.play().catch(function(error){console.error('Error playing track:',error);});};alarmAudioRef.current.onended=function(){setPlayingTrack(null);fadeIn(localAudioRef.current);localAudioRef.current.play();};// Calculate the end time for highlighting\nvar trackDuration=alarmAudioRef.current.duration*1000;// duration in milliseconds\nvar endTime=new Date().getTime()+trackDuration+20000;// add 20 seconds\nsetHighlightEndTime(endTime);});};var fadeOut=function fadeOut(audio,callback){var volume=audio.volume;var fadeAudio=setInterval(function(){if(volume>0.1){volume-=0.1;audio.volume=volume;}else{clearInterval(fadeAudio);audio.volume=0;callback();}},200);};var fadeIn=function fadeIn(audio){var volume=0;var fadeAudio=setInterval(function(){if(volume<0.9){volume+=0.1;audio.volume=volume;}else{clearInterval(fadeAudio);audio.volume=1.0;}},200);};var preloadNextTrack=function preloadNextTrack(){var now=new Date();var futureTracks=schedule.filter(function(track){var _track$time$split$map=track.time.split(':').map(Number),_track$time$split$map2=_slicedToArray(_track$time$split$map,3),hours=_track$time$split$map2[0],minutes=_track$time$split$map2[1],seconds=_track$time$split$map2[2];var trackTime=new Date();trackTime.setHours(hours,minutes,seconds);return trackTime>now;});if(futureTracks.length>0){var nextTrack=futureTracks[0];var nextTrackTime=new Date();var _nextTrack$time$split=nextTrack.time.split(':').map(Number),_nextTrack$time$split2=_slicedToArray(_nextTrack$time$split,3),hours=_nextTrack$time$split2[0],minutes=_nextTrack$time$split2[1],seconds=_nextTrack$time$split2[2];nextTrackTime.setHours(hours,minutes,seconds);// Preload the track 60 seconds before the scheduled time\nif(nextTrackTime-now<=60000&&alarmAudioRef.current.src!==\"/uploads/tracks/\".concat(nextTrack.track)){alarmAudioRef.current.src=\"/uploads/tracks/\".concat(nextTrack.track);alarmAudioRef.current.load();}}};var handleLocalTrackEnd=function handleLocalTrackEnd(){var nextIndex=(currentLocalTrackIndex+1)%localTracks.length;setCurrentLocalTrackIndex(nextIndex);playLocalTrack(nextIndex);};var playLocalTrack=function playLocalTrack(){var index=arguments.length>0&&arguments[0]!==undefined?arguments[0]:currentLocalTrackIndex;if(localTracks.length>0&&localAudioRef.current){var trackData=localStorage.getItem('localTracks');if(trackData){var tracks=JSON.parse(trackData);localAudioRef.current.src=tracks[index].url;localAudioRef.current.play().catch(function(error){console.error('Error playing local track:',error);});}}};var handleAddTrack=function handleAddTrack(){var newSchedule={track:newTrack,time:newTime,alarmName:alarmName};// Include alarm name\nvar updatedSchedule=[].concat(_toConsumableArray(schedule),[newSchedule]);setSchedule(updatedSchedule);axios.post(\"/radio/\".concat(id,\"/schedule\"),updatedSchedule).then(function(response){console.log('Schedule saved to server');}).catch(function(error){console.error('Error saving schedule to server',error);});setNewTrack('');setNewTime('');setAlarmName('');// Clear alarm name input\n};var getDaysLeft=function getDaysLeft(expirationDate,createdDate,subscriptionPlan){var now=new Date();var created=new Date(createdDate);var expiration=new Date(expirationDate);var subscriptionDays=0;switch(subscriptionPlan){case'1 Day':subscriptionDays=1;break;case'1 Month':subscriptionDays=30;break;case'3 Months':subscriptionDays=90;break;case'6 Months':subscriptionDays=180;break;case'1 Year':subscriptionDays=365;break;default:subscriptionDays=0;}var hoursPassed=differenceInHours(now,created);var daysPassed=Math.ceil(hoursPassed/24);var daysLeft=subscriptionDays-daysPassed;return daysLeft;};var isNextToPlay=function isNextToPlay(scheduledTime){var now=new Date();var scheduledDate=new Date();var _scheduledTime$split$=scheduledTime.split(':').map(Number),_scheduledTime$split$2=_slicedToArray(_scheduledTime$split$,3),hours=_scheduledTime$split$2[0],minutes=_scheduledTime$split$2[1],seconds=_scheduledTime$split$2[2];scheduledDate.setHours(hours,minutes,seconds);var differenceInMinutes=(scheduledDate-now)/60000;return differenceInMinutes>=0&&differenceInMinutes<=1;};var handleLogout=function handleLogout(){localStorage.removeItem('token');localStorage.removeItem('user');navigate('/login');};if(!profile){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(profile.blocked){return/*#__PURE__*/_jsxs(\"div\",{className:\"container vh-100 d-flex flex-column align-items-center justify-content-center\",children:[/*#__PURE__*/_jsx(\"style\",{children:\"\\n          .blocked-message {\\n            color: red;\\n            font-weight: bold;\\n            font-size: 24px;\\n          }\\n        \"}),/*#__PURE__*/_jsx(\"div\",{className:\"blocked-message\",children:\"Your profile is blocked.\"}),/*#__PURE__*/_jsx(\"div\",{children:profile.companyName})]});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column vh-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container flex-grow-1 d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"style\",{children:\"\\n            .local-player {\\n              background-color: white;\\n              border-radius: 8px;\\n              padding: 20px;\\n              box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);\\n              width: 450px;\\n            }\\n            .local-player h1 {\\n              font-size: 24px;\\n              font-weight: bold;\\n            }\\n            .local-player img {\\n              max-width: 100%;\\n              height: auto;\\n              padding: 10px;\\n              box-sizing: border-box;\\n            }\\n            .local-player .form-control-range {\\n              width: 100%;\\n            }\\n            .local-player .btn {\\n              width: 100%;\\n            }\\n            .local-player .profile-info h2 {\\n              margin-top: 20px;\\n              font-size: 18px;\\n              font-weight: bold;\\n            }\\n            .local-player .profile-info p {\\n              font-size: 16px;\\n            }\\n            .local-player .list-group-item {\\n              margin-top: 10px;\\n              background-color: #f8f9fa;\\n              border: 1px solid #dee2e6;\\n              transition: background-color 0.3s, transform 0.3s;\\n            }\\n            .local-player .list-group-item:hover {\\n              background-color: #e9ecef;\\n              transform: scale(1.02);\\n            }\\n            .local-player .list-group-item.active {\\n              background-color: #007bff;\\n              color: white;\\n            }\\n            .local-player .list-group-item:last-child {\\n              margin-bottom: 20px;\\n            }\\n            .action-buttons {\\n              position: absolute;\\n              top: 10px;\\n              right: 10px;\\n              display: flex;\\n              gap: 10px;\\n            }\\n            .header {\\n              text-align: center;\\n              margin-bottom: 10px;\\n            }\\n            .header h1 {\\n              font-size: 2rem;\\n              margin-top: 20px;\\n            }\\n            .header h2 {\\n              font-size: 1rem;\\n              margin: 0;\\n            }\\n            .subscription-info {\\n              text-align: center;\\n              font-size: 1rem;\\n              margin-top: 10px;\\n            }\\n            .card {\\n              width: 100%;\\n              background-color: #f8f9fa;\\n              border: 1px solid #dee2e6;\\n              box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);\\n            }\\n          \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[/*#__PURE__*/_jsx(Link,{to:\"/radio/\".concat(id,\"/profile\"),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",children:\"Go to Profile\"})}),/*#__PURE__*/_jsx(Link,{to:\"/radio/\".concat(id),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info\",children:\"Go to Radio Player\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:handleLogout,children:\"Logout\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[profile.name,\" - \",profile.companyName]}),/*#__PURE__*/_jsx(\"div\",{className:\"subscription-info\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Subscription Plan: \",profile.subscriptionPlan,/*#__PURE__*/_jsx(\"br\",{}),\"Days left to expire: \",getDaysLeft(profile.expirationDate,profile.createdDate,profile.subscriptionPlan)]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row flex-grow-1 align-items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 d-flex justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"local-player text-center\",children:[profile.logo&&/*#__PURE__*/_jsx(\"img\",{src:\"/uploads/\".concat(profile.logo),alt:\"Company Logo\",className:\"img-fluid mb-3\"}),/*#__PURE__*/_jsx(\"audio\",{ref:localAudioRef,preload:\"none\",style:{display:'block'}}),/*#__PURE__*/_jsx(\"audio\",{ref:alarmAudioRef,preload:\"none\",style:{display:'none'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-block mb-2\",onClick:handlePlay,children:\"Play\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-block mb-2\",onClick:handlePause,children:\"Pause\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-block mb-2\",onClick:handleMute,children:isMuted?'Unmute':'Mute'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"range\",className:\"form-control-range\",min:\"0\",max:\"1\",step:\"0.01\",value:volume,onChange:handleVolumeChange})}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",webkitdirectory:\"true\",multiple:true,onChange:handleLocalFiles,accept:\".mp3\",className:\"form-control\"}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{children:errorMessage})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 d-flex justify-content-center\",children:profile.alarmBlocked?/*#__PURE__*/_jsxs(\"div\",{className:\"card text-center p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Scheduled Tracks\"})}),/*#__PURE__*/_jsx(\"p\",{style:{color:'red',fontWeight:'bold'},children:\"The alarm system for this profile is currently blocked.\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"card text-center p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Scheduled Tracks\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"scheduled-player\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"audio\",{ref:alarmAudioRef,controls:true,preload:\"none\",style:{width:'100%'}})]})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group list-group-flush\",children:schedule.map(function(item,index){var isPlaying=item.track===playingTrack;var isHighlighted=highlightEndTime&&new Date().getTime()<highlightEndTime;return/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item d-flex justify-content-between align-items-center \".concat(isPlaying||isHighlighted?'bg-warning':''),style:isPlaying||isHighlighted?{fontWeight:'bold',backgroundColor:'#ffecb3'}:{},children:[/*#__PURE__*/_jsx(\"span\",{className:\"dot\",style:{height:'10px',width:'10px',backgroundColor:'#ff0000',borderRadius:'50%',display:'inline-block',marginRight:'10px'}}),item.time,\" - \",item.alarmName,\" \"]},index);})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 d-flex justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card text-center p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Local Tracks\"})}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group list-group-flush\",children:localTracks.map(function(track,index){return/*#__PURE__*/_jsx(\"li\",{onClick:function onClick(){return setCurrentLocalTrackIndex(index);},className:\"list-group-item \".concat(index===currentLocalTrackIndex?'active':''),children:track.name},index);})})]})})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Footer,{})]})]});};export default LocalPlayer;","map":{"version":3,"names":["React","useRef","useState","useEffect","useParams","Link","useNavigate","axios","differenceInHours","Footer","Header","jsx","_jsx","jsxs","_jsxs","LocalPlayer","_useParams","id","navigate","localAudioRef","alarmAudioRef","_useState","_useState2","_slicedToArray","isMuted","setIsMuted","_useState3","_useState4","volume","setVolume","_useState5","_useState6","localTracks","setLocalTracks","_useState7","_useState8","schedule","setSchedule","_useState9","_useState10","newTrack","setNewTrack","_useState11","_useState12","newTime","setNewTime","_useState13","_useState14","alarmName","setAlarmName","_useState15","Date","toLocaleTimeString","hour12","_useState16","currentTime","setCurrentTime","_useState17","_useState18","currentLocalTrackIndex","setCurrentLocalTrackIndex","_useState19","_useState20","profile","setProfile","_useState21","_useState22","errorMessage","setErrorMessage","_useState23","_useState24","playingTrack","setPlayingTrack","_useState25","_useState26","highlightEndTime","setHighlightEndTime","fetchProfile","fetchSchedule","loadLocalTracks","interval","setInterval","now","scheduledTrack","find","track","time","playScheduledTrack","clearInterval","current","addEventListener","handleLocalTrackEnd","removeEventListener","preloadNextTrack","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","concat","sent","data","t0","console","error","stop","apply","arguments","_ref2","_callee2","_callee2$","_context2","handlePlay","playLocalTrack","handlePause","pause","handleMute","audioElement","muted","handleVolumeChange","event","newVolume","target","value","handleLocalFiles","files","Array","from","length","saveLocalTracksToStorage","trackData","map","file","name","url","URL","createObjectURL","localStorage","setItem","JSON","stringify","savedTracks","getItem","parse","fileObjects","File","Blob","alarmBlocked","fadeOut","src","log","load","oncanplaythrough","play","catch","onended","fadeIn","trackDuration","duration","endTime","getTime","audio","callback","fadeAudio","futureTracks","filter","_track$time$split$map","split","Number","_track$time$split$map2","hours","minutes","seconds","trackTime","setHours","nextTrack","nextTrackTime","_nextTrack$time$split","_nextTrack$time$split2","nextIndex","index","undefined","tracks","handleAddTrack","newSchedule","updatedSchedule","_toConsumableArray","post","then","getDaysLeft","expirationDate","createdDate","subscriptionPlan","created","expiration","subscriptionDays","hoursPassed","daysPassed","Math","ceil","daysLeft","isNextToPlay","scheduledTime","scheduledDate","_scheduledTime$split$","_scheduledTime$split$2","differenceInMinutes","handleLogout","removeItem","children","blocked","className","companyName","to","onClick","logo","alt","ref","preload","style","display","type","min","max","step","onChange","webkitdirectory","multiple","accept","color","fontWeight","controls","width","item","isPlaying","isHighlighted","backgroundColor","height","borderRadius","marginRight"],"sources":["C:/Users/kusha/Desktop/Radio Alarm System - Copy/client/src/components/LocalPlayer.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\r\nimport { useParams, Link, useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport { differenceInHours } from 'date-fns';\r\nimport Footer from './Footer';\r\nimport Header from './Header';\r\n\r\nconst LocalPlayer = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const localAudioRef = useRef(null);\r\n  const alarmAudioRef = useRef(null);\r\n  const [isMuted, setIsMuted] = useState(false);\r\n  const [volume, setVolume] = useState(1);\r\n  const [localTracks, setLocalTracks] = useState([]);\r\n  const [schedule, setSchedule] = useState([]);\r\n  const [newTrack, setNewTrack] = useState('');\r\n  const [newTime, setNewTime] = useState('');\r\n  const [alarmName, setAlarmName] = useState(''); // New state for alarm name\r\n  const [currentTime, setCurrentTime] = useState(new Date().toLocaleTimeString('en-GB', { hour12: false }));\r\n  const [currentLocalTrackIndex, setCurrentLocalTrackIndex] = useState(0);\r\n  const [profile, setProfile] = useState(null);\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [playingTrack, setPlayingTrack] = useState(null);\r\n  const [highlightEndTime, setHighlightEndTime] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchProfile();\r\n    fetchSchedule();\r\n    loadLocalTracks();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      const now = new Date().toLocaleTimeString('en-GB', { hour12: false });\r\n      setCurrentTime(now);\r\n      const scheduledTrack = schedule.find(track => track.time === now);\r\n      if (scheduledTrack) {\r\n        playScheduledTrack(scheduledTrack.track);\r\n      }\r\n    }, 1000);\r\n    return () => clearInterval(interval);\r\n  }, [schedule]);\r\n\r\n  useEffect(() => {\r\n    if (localAudioRef.current) {\r\n      localAudioRef.current.addEventListener('ended', handleLocalTrackEnd);\r\n    }\r\n    return () => {\r\n      if (localAudioRef.current) {\r\n        localAudioRef.current.removeEventListener('ended', handleLocalTrackEnd);\r\n      }\r\n    };\r\n  }, [currentLocalTrackIndex, localTracks]);\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      preloadNextTrack();\r\n    }, 5000); // Check every 5 seconds to preload the next track\r\n    return () => clearInterval(interval);\r\n  }, [schedule, currentTime]);\r\n\r\n  const fetchProfile = async () => {\r\n    try {\r\n      const response = await axios.get(`/radiostreams/${id}`);\r\n      setProfile(response.data);\r\n    } catch (error) {\r\n      console.error('There was an error fetching the profile!', error);\r\n      setErrorMessage('Failed to fetch profile');\r\n    }\r\n  };\r\n\r\n  const fetchSchedule = async () => {\r\n    try {\r\n      const response = await axios.get(`/radio/${id}/schedule`);\r\n      setSchedule(response.data);\r\n    } catch (error) {\r\n      console.error('There was an error fetching the schedule!', error);\r\n      setErrorMessage('Failed to fetch schedule');\r\n    }\r\n  };\r\n\r\n  const handlePlay = () => {\r\n    playLocalTrack();\r\n  };\r\n\r\n  const handlePause = () => {\r\n    if (localAudioRef.current) {\r\n      localAudioRef.current.pause();\r\n    }\r\n  };\r\n\r\n  const handleMute = () => {\r\n    const audioElement = localAudioRef.current;\r\n    audioElement.muted = !audioElement.muted;\r\n    setIsMuted(!isMuted);\r\n  };\r\n\r\n  const handleVolumeChange = (event) => {\r\n    const newVolume = event.target.value;\r\n    localAudioRef.current.volume = newVolume;\r\n    setVolume(newVolume);\r\n  };\r\n\r\n  const handleLocalFiles = (event) => {\r\n    const files = Array.from(event.target.files);\r\n    setLocalTracks(files);\r\n    if (files.length > 0) {\r\n      setCurrentLocalTrackIndex(0);\r\n      saveLocalTracksToStorage(files);\r\n    }\r\n  };\r\n\r\n  const saveLocalTracksToStorage = (files) => {\r\n    const trackData = files.map(file => ({\r\n      name: file.name,\r\n      url: URL.createObjectURL(file)\r\n    }));\r\n    localStorage.setItem('localTracks', JSON.stringify(trackData));\r\n  };\r\n\r\n  const loadLocalTracks = () => {\r\n    const savedTracks = localStorage.getItem('localTracks');\r\n    if (savedTracks) {\r\n      const trackData = JSON.parse(savedTracks);\r\n      const fileObjects = trackData.map(data => new File([new Blob([])], data.name));\r\n      setLocalTracks(fileObjects);\r\n    }\r\n  };\r\n\r\n  const playScheduledTrack = (track) => {\r\n    if (!profile || profile.alarmBlocked || !localAudioRef.current || !alarmAudioRef.current) return;\r\n\r\n    setPlayingTrack(track);\r\n    fadeOut(localAudioRef.current, () => {\r\n      alarmAudioRef.current.src = `/uploads/tracks/${track}`;\r\n      console.log('Track source set to:', alarmAudioRef.current.src);\r\n      alarmAudioRef.current.load();\r\n      alarmAudioRef.current.oncanplaythrough = () => {\r\n        alarmAudioRef.current.play().catch(error => {\r\n          console.error('Error playing track:', error);\r\n        });\r\n      };\r\n      alarmAudioRef.current.onended = () => {\r\n        setPlayingTrack(null);\r\n        fadeIn(localAudioRef.current);\r\n        localAudioRef.current.play();\r\n      };\r\n\r\n      // Calculate the end time for highlighting\r\n      const trackDuration = alarmAudioRef.current.duration * 1000; // duration in milliseconds\r\n      const endTime = new Date().getTime() + trackDuration + 20000; // add 20 seconds\r\n      setHighlightEndTime(endTime);\r\n    });\r\n  };\r\n\r\n  const fadeOut = (audio, callback) => {\r\n    let volume = audio.volume;\r\n    const fadeAudio = setInterval(() => {\r\n      if (volume > 0.1) {\r\n        volume -= 0.1;\r\n        audio.volume = volume;\r\n      } else {\r\n        clearInterval(fadeAudio);\r\n        audio.volume = 0;\r\n        callback();\r\n      }\r\n    }, 200);\r\n  };\r\n\r\n  const fadeIn = (audio) => {\r\n    let volume = 0;\r\n    const fadeAudio = setInterval(() => {\r\n      if (volume < 0.9) {\r\n        volume += 0.1;\r\n        audio.volume = volume;\r\n      } else {\r\n        clearInterval(fadeAudio);\r\n        audio.volume = 1.0;\r\n      }\r\n    }, 200);\r\n  };\r\n\r\n  const preloadNextTrack = () => {\r\n    const now = new Date();\r\n    const futureTracks = schedule.filter(track => {\r\n      const [hours, minutes, seconds] = track.time.split(':').map(Number);\r\n      const trackTime = new Date();\r\n      trackTime.setHours(hours, minutes, seconds);\r\n      return trackTime > now;\r\n    });\r\n\r\n    if (futureTracks.length > 0) {\r\n      const nextTrack = futureTracks[0];\r\n      const nextTrackTime = new Date();\r\n      const [hours, minutes, seconds] = nextTrack.time.split(':').map(Number);\r\n      nextTrackTime.setHours(hours, minutes, seconds);\r\n\r\n      // Preload the track 60 seconds before the scheduled time\r\n      if (nextTrackTime - now <= 60000 && alarmAudioRef.current.src !== `/uploads/tracks/${nextTrack.track}`) {\r\n        alarmAudioRef.current.src = `/uploads/tracks/${nextTrack.track}`;\r\n        alarmAudioRef.current.load();\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleLocalTrackEnd = () => {\r\n    const nextIndex = (currentLocalTrackIndex + 1) % localTracks.length;\r\n    setCurrentLocalTrackIndex(nextIndex);\r\n    playLocalTrack(nextIndex);\r\n  };\r\n\r\n  const playLocalTrack = (index = currentLocalTrackIndex) => {\r\n    if (localTracks.length > 0 && localAudioRef.current) {\r\n      const trackData = localStorage.getItem('localTracks');\r\n      if (trackData) {\r\n        const tracks = JSON.parse(trackData);\r\n        localAudioRef.current.src = tracks[index].url;\r\n        localAudioRef.current.play().catch(error => {\r\n          console.error('Error playing local track:', error);\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleAddTrack = () => {\r\n    const newSchedule = { track: newTrack, time: newTime, alarmName }; // Include alarm name\r\n    const updatedSchedule = [...schedule, newSchedule];\r\n    setSchedule(updatedSchedule);\r\n    axios.post(`/radio/${id}/schedule`, updatedSchedule)\r\n      .then(response => {\r\n        console.log('Schedule saved to server');\r\n      })\r\n      .catch(error => {\r\n        console.error('Error saving schedule to server', error);\r\n      });\r\n    setNewTrack('');\r\n    setNewTime('');\r\n    setAlarmName(''); // Clear alarm name input\r\n  };\r\n\r\n  const getDaysLeft = (expirationDate, createdDate, subscriptionPlan) => {\r\n    const now = new Date();\r\n    const created = new Date(createdDate);\r\n    const expiration = new Date(expirationDate);\r\n\r\n    let subscriptionDays = 0;\r\n    switch (subscriptionPlan) {\r\n      case '1 Day':\r\n        subscriptionDays = 1;\r\n        break;\r\n      case '1 Month':\r\n        subscriptionDays = 30;\r\n        break;\r\n      case '3 Months':\r\n        subscriptionDays = 90;\r\n        break;\r\n      case '6 Months':\r\n        subscriptionDays = 180;\r\n        break;\r\n      case '1 Year':\r\n        subscriptionDays = 365;\r\n        break;\r\n      default:\r\n        subscriptionDays = 0;\r\n    }\r\n\r\n    const hoursPassed = differenceInHours(now, created);\r\n    const daysPassed = Math.ceil(hoursPassed / 24);\r\n    const daysLeft = subscriptionDays - daysPassed;\r\n\r\n    return daysLeft;\r\n  };\r\n\r\n  const isNextToPlay = (scheduledTime) => {\r\n    const now = new Date();\r\n    const scheduledDate = new Date();\r\n    const [hours, minutes, seconds] = scheduledTime.split(':').map(Number);\r\n    scheduledDate.setHours(hours, minutes, seconds);\r\n    const differenceInMinutes = (scheduledDate - now) / 60000;\r\n    return differenceInMinutes >= 0 && differenceInMinutes <= 1;\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    navigate('/login');\r\n  };\r\n\r\n  if (!profile) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  if (profile.blocked) {\r\n    return (\r\n      <div className=\"container vh-100 d-flex flex-column align-items-center justify-content-center\">\r\n        <style>{`\r\n          .blocked-message {\r\n            color: red;\r\n            font-weight: bold;\r\n            font-size: 24px;\r\n          }\r\n        `}</style>\r\n        <div className=\"blocked-message\">Your profile is blocked.</div>\r\n        <div>{profile.companyName}</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <div className=\"d-flex flex-column vh-100\">\r\n        <div className=\"container flex-grow-1 d-flex flex-column\">\r\n          <style>{`\r\n            .local-player {\r\n              background-color: white;\r\n              border-radius: 8px;\r\n              padding: 20px;\r\n              box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);\r\n              width: 450px;\r\n            }\r\n            .local-player h1 {\r\n              font-size: 24px;\r\n              font-weight: bold;\r\n            }\r\n            .local-player img {\r\n              max-width: 100%;\r\n              height: auto;\r\n              padding: 10px;\r\n              box-sizing: border-box;\r\n            }\r\n            .local-player .form-control-range {\r\n              width: 100%;\r\n            }\r\n            .local-player .btn {\r\n              width: 100%;\r\n            }\r\n            .local-player .profile-info h2 {\r\n              margin-top: 20px;\r\n              font-size: 18px;\r\n              font-weight: bold;\r\n            }\r\n            .local-player .profile-info p {\r\n              font-size: 16px;\r\n            }\r\n            .local-player .list-group-item {\r\n              margin-top: 10px;\r\n              background-color: #f8f9fa;\r\n              border: 1px solid #dee2e6;\r\n              transition: background-color 0.3s, transform 0.3s;\r\n            }\r\n            .local-player .list-group-item:hover {\r\n              background-color: #e9ecef;\r\n              transform: scale(1.02);\r\n            }\r\n            .local-player .list-group-item.active {\r\n              background-color: #007bff;\r\n              color: white;\r\n            }\r\n            .local-player .list-group-item:last-child {\r\n              margin-bottom: 20px;\r\n            }\r\n            .action-buttons {\r\n              position: absolute;\r\n              top: 10px;\r\n              right: 10px;\r\n              display: flex;\r\n              gap: 10px;\r\n            }\r\n            .header {\r\n              text-align: center;\r\n              margin-bottom: 10px;\r\n            }\r\n            .header h1 {\r\n              font-size: 2rem;\r\n              margin-top: 20px;\r\n            }\r\n            .header h2 {\r\n              font-size: 1rem;\r\n              margin: 0;\r\n            }\r\n            .subscription-info {\r\n              text-align: center;\r\n              font-size: 1rem;\r\n              margin-top: 10px;\r\n            }\r\n            .card {\r\n              width: 100%;\r\n              background-color: #f8f9fa;\r\n              border: 1px solid #dee2e6;\r\n              box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);\r\n            }\r\n          `}</style>\r\n          <div className=\"action-buttons\">\r\n            <Link to={`/radio/${id}/profile`}>\r\n              <button className=\"btn btn-primary\">Go to Profile</button>\r\n            </Link>\r\n            <Link to={`/radio/${id}`}>\r\n              <button className=\"btn btn-info\">Go to Radio Player</button>\r\n            </Link>\r\n            <button className=\"btn btn-secondary\" onClick={handleLogout}>Logout</button>\r\n          </div>\r\n          <div className=\"header\">\r\n            <h1>{profile.name} - {profile.companyName}</h1>\r\n            <div className=\"subscription-info\">\r\n              <p>Subscription Plan: {profile.subscriptionPlan}<br></br>\r\n              Days left to expire: {getDaysLeft(profile.expirationDate, profile.createdDate, profile.subscriptionPlan)}</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"row flex-grow-1 align-items-start\">\r\n            <div className=\"col-md-4 d-flex justify-content-center\">\r\n              <div className=\"local-player text-center\">\r\n                {profile.logo && <img src={`/uploads/${profile.logo}`} alt=\"Company Logo\" className=\"img-fluid mb-3\" />}\r\n                <audio ref={localAudioRef} preload=\"none\" style={{ display: 'block' }}></audio>\r\n                <audio ref={alarmAudioRef} preload=\"none\" style={{ display: 'none' }}></audio>\r\n                <div className=\"mb-3\">\r\n                  <button className=\"btn btn-danger btn-block mb-2\" onClick={handlePlay}>Play</button>\r\n                  <button className=\"btn btn-danger btn-block mb-2\" onClick={handlePause}>Pause</button>\r\n                  <button className=\"btn btn-danger btn-block mb-2\" onClick={handleMute}>{isMuted ? 'Unmute' : 'Mute'}</button>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <input\r\n                    type=\"range\"\r\n                    className=\"form-control-range\"\r\n                    min=\"0\"\r\n                    max=\"1\"\r\n                    step=\"0.01\"\r\n                    value={volume}\r\n                    onChange={handleVolumeChange}\r\n                  />\r\n                </div>\r\n                <input\r\n                  type=\"file\"\r\n                  webkitdirectory=\"true\"\r\n                  multiple\r\n                  onChange={handleLocalFiles}\r\n                  accept=\".mp3\"\r\n                  className=\"form-control\"\r\n                />\r\n                {errorMessage && <p>{errorMessage}</p>}\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-4 d-flex justify-content-center\">\r\n              {profile.alarmBlocked ? (\r\n                <div className=\"card text-center p-4\">\r\n                  <div className=\"card-header\">\r\n                    <h2>Scheduled Tracks</h2>\r\n                  </div>\r\n                  <p style={{ color: 'red', fontWeight: 'bold' }}>The alarm system for this profile is currently blocked.</p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"card text-center p-4\">\r\n                  <div className=\"card-header\">\r\n                    <h2>Scheduled Tracks</h2>\r\n                    <div className=\"scheduled-player\">\r\n                      <br />\r\n                      <audio ref={alarmAudioRef} controls preload=\"none\" style={{ width: '100%' }}></audio>\r\n                    </div>\r\n                  </div>\r\n                  <ul className=\"list-group list-group-flush\">\r\n                    {schedule.map((item, index) => {\r\n                      const isPlaying = item.track === playingTrack;\r\n                      const isHighlighted = highlightEndTime && new Date().getTime() < highlightEndTime;\r\n                      return (\r\n                        <li\r\n                          key={index}\r\n                          className={`list-group-item d-flex justify-content-between align-items-center ${isPlaying || isHighlighted ? 'bg-warning' : ''}`}\r\n                          style={isPlaying || isHighlighted ? { fontWeight: 'bold', backgroundColor: '#ffecb3' } : {}}\r\n                        >\r\n                          <span\r\n                            className=\"dot\"\r\n                            style={{\r\n                              height: '10px',\r\n                              width: '10px',\r\n                              backgroundColor: '#ff0000',\r\n                              borderRadius: '50%',\r\n                              display: 'inline-block',\r\n                              marginRight: '10px'\r\n                            }}\r\n                          ></span>\r\n                          {item.time} - {item.alarmName} {/* Display alarm name */}\r\n                          {/* - {item.track.split('-').slice(1).join('-')} */}\r\n                        </li>\r\n                      );\r\n                    })}\r\n                  </ul>\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"col-md-4 d-flex justify-content-center\">\r\n              <div className=\"card text-center p-4\">\r\n                <div className=\"card-header\">\r\n                  <h2>Local Tracks</h2>\r\n                </div>\r\n                <ul className=\"list-group list-group-flush\">\r\n                  {localTracks.map((track, index) => (\r\n                    <li\r\n                      key={index}\r\n                      onClick={() => setCurrentLocalTrackIndex(index)}\r\n                      className={`list-group-item ${index === currentLocalTrackIndex ? 'active' : ''}`}\r\n                    >\r\n                      {track.name}\r\n                    </li>\r\n                  ))}\r\n                </ul>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <br></br>\r\n        <Footer />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LocalPlayer;\r\n"],"mappings":"4kBAAA,MAAO,CAAAA,KAAK,EAAIC,MAAM,CAAEC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC1D,OAASC,SAAS,CAAEC,IAAI,CAAEC,WAAW,KAAQ,kBAAkB,CAC/D,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,iBAAiB,KAAQ,UAAU,CAC5C,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,CAAAC,MAAM,KAAM,UAAU,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE9B,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CACxB,IAAAC,UAAA,CAAeZ,SAAS,CAAC,CAAC,CAAlBa,EAAE,CAAAD,UAAA,CAAFC,EAAE,CACV,GAAM,CAAAC,QAAQ,CAAGZ,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAa,aAAa,CAAGlB,MAAM,CAAC,IAAI,CAAC,CAClC,GAAM,CAAAmB,aAAa,CAAGnB,MAAM,CAAC,IAAI,CAAC,CAClC,IAAAoB,SAAA,CAA8BnB,QAAQ,CAAC,KAAK,CAAC,CAAAoB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAtCG,OAAO,CAAAF,UAAA,IAAEG,UAAU,CAAAH,UAAA,IAC1B,IAAAI,UAAA,CAA4BxB,QAAQ,CAAC,CAAC,CAAC,CAAAyB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAhCE,MAAM,CAAAD,UAAA,IAAEE,SAAS,CAAAF,UAAA,IACxB,IAAAG,UAAA,CAAsC5B,QAAQ,CAAC,EAAE,CAAC,CAAA6B,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA3CE,WAAW,CAAAD,UAAA,IAAEE,cAAc,CAAAF,UAAA,IAClC,IAAAG,UAAA,CAAgChC,QAAQ,CAAC,EAAE,CAAC,CAAAiC,UAAA,CAAAZ,cAAA,CAAAW,UAAA,IAArCE,QAAQ,CAAAD,UAAA,IAAEE,WAAW,CAAAF,UAAA,IAC5B,IAAAG,UAAA,CAAgCpC,QAAQ,CAAC,EAAE,CAAC,CAAAqC,WAAA,CAAAhB,cAAA,CAAAe,UAAA,IAArCE,QAAQ,CAAAD,WAAA,IAAEE,WAAW,CAAAF,WAAA,IAC5B,IAAAG,WAAA,CAA8BxC,QAAQ,CAAC,EAAE,CAAC,CAAAyC,WAAA,CAAApB,cAAA,CAAAmB,WAAA,IAAnCE,OAAO,CAAAD,WAAA,IAAEE,UAAU,CAAAF,WAAA,IAC1B,IAAAG,WAAA,CAAkC5C,QAAQ,CAAC,EAAE,CAAC,CAAA6C,WAAA,CAAAxB,cAAA,CAAAuB,WAAA,IAAvCE,SAAS,CAAAD,WAAA,IAAEE,YAAY,CAAAF,WAAA,IAAkB;AAChD,IAAAG,WAAA,CAAsChD,QAAQ,CAAC,GAAI,CAAAiD,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,OAAO,CAAE,CAAEC,MAAM,CAAE,KAAM,CAAC,CAAC,CAAC,CAAAC,WAAA,CAAA/B,cAAA,CAAA2B,WAAA,IAAlGK,WAAW,CAAAD,WAAA,IAAEE,cAAc,CAAAF,WAAA,IAClC,IAAAG,WAAA,CAA4DvD,QAAQ,CAAC,CAAC,CAAC,CAAAwD,WAAA,CAAAnC,cAAA,CAAAkC,WAAA,IAAhEE,sBAAsB,CAAAD,WAAA,IAAEE,yBAAyB,CAAAF,WAAA,IACxD,IAAAG,WAAA,CAA8B3D,QAAQ,CAAC,IAAI,CAAC,CAAA4D,WAAA,CAAAvC,cAAA,CAAAsC,WAAA,IAArCE,OAAO,CAAAD,WAAA,IAAEE,UAAU,CAAAF,WAAA,IAC1B,IAAAG,WAAA,CAAwC/D,QAAQ,CAAC,EAAE,CAAC,CAAAgE,WAAA,CAAA3C,cAAA,CAAA0C,WAAA,IAA7CE,YAAY,CAAAD,WAAA,IAAEE,eAAe,CAAAF,WAAA,IACpC,IAAAG,WAAA,CAAwCnE,QAAQ,CAAC,IAAI,CAAC,CAAAoE,WAAA,CAAA/C,cAAA,CAAA8C,WAAA,IAA/CE,YAAY,CAAAD,WAAA,IAAEE,eAAe,CAAAF,WAAA,IACpC,IAAAG,WAAA,CAAgDvE,QAAQ,CAAC,IAAI,CAAC,CAAAwE,WAAA,CAAAnD,cAAA,CAAAkD,WAAA,IAAvDE,gBAAgB,CAAAD,WAAA,IAAEE,mBAAmB,CAAAF,WAAA,IAE5CvE,SAAS,CAAC,UAAM,CACd0E,YAAY,CAAC,CAAC,CACdC,aAAa,CAAC,CAAC,CACfC,eAAe,CAAC,CAAC,CACnB,CAAC,CAAE,EAAE,CAAC,CAEN5E,SAAS,CAAC,UAAM,CACd,GAAM,CAAA6E,QAAQ,CAAGC,WAAW,CAAC,UAAM,CACjC,GAAM,CAAAC,GAAG,CAAG,GAAI,CAAA/B,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,OAAO,CAAE,CAAEC,MAAM,CAAE,KAAM,CAAC,CAAC,CACrEG,cAAc,CAAC0B,GAAG,CAAC,CACnB,GAAM,CAAAC,cAAc,CAAG/C,QAAQ,CAACgD,IAAI,CAAC,SAAAC,KAAK,QAAI,CAAAA,KAAK,CAACC,IAAI,GAAKJ,GAAG,GAAC,CACjE,GAAIC,cAAc,CAAE,CAClBI,kBAAkB,CAACJ,cAAc,CAACE,KAAK,CAAC,CAC1C,CACF,CAAC,CAAE,IAAI,CAAC,CACR,MAAO,kBAAM,CAAAG,aAAa,CAACR,QAAQ,CAAC,GACtC,CAAC,CAAE,CAAC5C,QAAQ,CAAC,CAAC,CAEdjC,SAAS,CAAC,UAAM,CACd,GAAIgB,aAAa,CAACsE,OAAO,CAAE,CACzBtE,aAAa,CAACsE,OAAO,CAACC,gBAAgB,CAAC,OAAO,CAAEC,mBAAmB,CAAC,CACtE,CACA,MAAO,WAAM,CACX,GAAIxE,aAAa,CAACsE,OAAO,CAAE,CACzBtE,aAAa,CAACsE,OAAO,CAACG,mBAAmB,CAAC,OAAO,CAAED,mBAAmB,CAAC,CACzE,CACF,CAAC,CACH,CAAC,CAAE,CAAChC,sBAAsB,CAAE3B,WAAW,CAAC,CAAC,CAEzC7B,SAAS,CAAC,UAAM,CACd,GAAM,CAAA6E,QAAQ,CAAGC,WAAW,CAAC,UAAM,CACjCY,gBAAgB,CAAC,CAAC,CACpB,CAAC,CAAE,IAAI,CAAC,CAAE;AACV,MAAO,kBAAM,CAAAL,aAAa,CAACR,QAAQ,CAAC,GACtC,CAAC,CAAE,CAAC5C,QAAQ,CAAEmB,WAAW,CAAC,CAAC,CAE3B,GAAM,CAAAsB,YAAY,6BAAAiB,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAA,MAAAC,QAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEM,CAAAjG,KAAK,CAACkG,GAAG,kBAAAC,MAAA,CAAkBzF,EAAE,CAAE,CAAC,QAAjDkF,QAAQ,CAAAG,QAAA,CAAAK,IAAA,CACd3C,UAAU,CAACmC,QAAQ,CAACS,IAAI,CAAC,CAACN,QAAA,CAAAE,IAAA,iBAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAO,EAAA,CAAAP,QAAA,aAE1BQ,OAAO,CAACC,KAAK,CAAC,0CAA0C,CAAAT,QAAA,CAAAO,EAAO,CAAC,CAChEzC,eAAe,CAAC,yBAAyB,CAAC,CAAC,yBAAAkC,QAAA,CAAAU,IAAA,MAAAd,OAAA,gBAE9C,kBARK,CAAArB,YAAYA,CAAA,SAAAiB,IAAA,CAAAmB,KAAA,MAAAC,SAAA,OAQjB,CAED,GAAM,CAAApC,aAAa,6BAAAqC,KAAA,CAAApB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAmB,SAAA,MAAAjB,QAAA,QAAAH,mBAAA,GAAAI,IAAA,UAAAiB,UAAAC,SAAA,iBAAAA,SAAA,CAAAf,IAAA,CAAAe,SAAA,CAAAd,IAAA,SAAAc,SAAA,CAAAf,IAAA,GAAAe,SAAA,CAAAd,IAAA,SAEK,CAAAjG,KAAK,CAACkG,GAAG,WAAAC,MAAA,CAAWzF,EAAE,aAAW,CAAC,QAAnDkF,QAAQ,CAAAmB,SAAA,CAAAX,IAAA,CACdtE,WAAW,CAAC8D,QAAQ,CAACS,IAAI,CAAC,CAACU,SAAA,CAAAd,IAAA,iBAAAc,SAAA,CAAAf,IAAA,GAAAe,SAAA,CAAAT,EAAA,CAAAS,SAAA,aAE3BR,OAAO,CAACC,KAAK,CAAC,2CAA2C,CAAAO,SAAA,CAAAT,EAAO,CAAC,CACjEzC,eAAe,CAAC,0BAA0B,CAAC,CAAC,yBAAAkD,SAAA,CAAAN,IAAA,MAAAI,QAAA,gBAE/C,kBARK,CAAAtC,aAAaA,CAAA,SAAAqC,KAAA,CAAAF,KAAA,MAAAC,SAAA,OAQlB,CAED,GAAM,CAAAK,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CACvBC,cAAc,CAAC,CAAC,CAClB,CAAC,CAED,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CACxB,GAAItG,aAAa,CAACsE,OAAO,CAAE,CACzBtE,aAAa,CAACsE,OAAO,CAACiC,KAAK,CAAC,CAAC,CAC/B,CACF,CAAC,CAED,GAAM,CAAAC,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAA,CAAS,CACvB,GAAM,CAAAC,YAAY,CAAGzG,aAAa,CAACsE,OAAO,CAC1CmC,YAAY,CAACC,KAAK,CAAG,CAACD,YAAY,CAACC,KAAK,CACxCpG,UAAU,CAAC,CAACD,OAAO,CAAC,CACtB,CAAC,CAED,GAAM,CAAAsG,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAIC,KAAK,CAAK,CACpC,GAAM,CAAAC,SAAS,CAAGD,KAAK,CAACE,MAAM,CAACC,KAAK,CACpC/G,aAAa,CAACsE,OAAO,CAAC7D,MAAM,CAAGoG,SAAS,CACxCnG,SAAS,CAACmG,SAAS,CAAC,CACtB,CAAC,CAED,GAAM,CAAAG,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAIJ,KAAK,CAAK,CAClC,GAAM,CAAAK,KAAK,CAAGC,KAAK,CAACC,IAAI,CAACP,KAAK,CAACE,MAAM,CAACG,KAAK,CAAC,CAC5CnG,cAAc,CAACmG,KAAK,CAAC,CACrB,GAAIA,KAAK,CAACG,MAAM,CAAG,CAAC,CAAE,CACpB3E,yBAAyB,CAAC,CAAC,CAAC,CAC5B4E,wBAAwB,CAACJ,KAAK,CAAC,CACjC,CACF,CAAC,CAED,GAAM,CAAAI,wBAAwB,CAAG,QAA3B,CAAAA,wBAAwBA,CAAIJ,KAAK,CAAK,CAC1C,GAAM,CAAAK,SAAS,CAAGL,KAAK,CAACM,GAAG,CAAC,SAAAC,IAAI,QAAK,CACnCC,IAAI,CAAED,IAAI,CAACC,IAAI,CACfC,GAAG,CAAEC,GAAG,CAACC,eAAe,CAACJ,IAAI,CAC/B,CAAC,EAAC,CAAC,CACHK,YAAY,CAACC,OAAO,CAAC,aAAa,CAAEC,IAAI,CAACC,SAAS,CAACV,SAAS,CAAC,CAAC,CAChE,CAAC,CAED,GAAM,CAAA1D,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAA,CAAS,CAC5B,GAAM,CAAAqE,WAAW,CAAGJ,YAAY,CAACK,OAAO,CAAC,aAAa,CAAC,CACvD,GAAID,WAAW,CAAE,CACf,GAAM,CAAAX,SAAS,CAAGS,IAAI,CAACI,KAAK,CAACF,WAAW,CAAC,CACzC,GAAM,CAAAG,WAAW,CAAGd,SAAS,CAACC,GAAG,CAAC,SAAA9B,IAAI,QAAI,IAAI,CAAA4C,IAAI,CAAC,CAAC,GAAI,CAAAC,IAAI,CAAC,EAAE,CAAC,CAAC,CAAE7C,IAAI,CAACgC,IAAI,CAAC,GAAC,CAC9E3G,cAAc,CAACsH,WAAW,CAAC,CAC7B,CACF,CAAC,CAED,GAAM,CAAAhE,kBAAkB,CAAG,QAArB,CAAAA,kBAAkBA,CAAIF,KAAK,CAAK,CACpC,GAAI,CAACtB,OAAO,EAAIA,OAAO,CAAC2F,YAAY,EAAI,CAACvI,aAAa,CAACsE,OAAO,EAAI,CAACrE,aAAa,CAACqE,OAAO,CAAE,OAE1FjB,eAAe,CAACa,KAAK,CAAC,CACtBsE,OAAO,CAACxI,aAAa,CAACsE,OAAO,CAAE,UAAM,CACnCrE,aAAa,CAACqE,OAAO,CAACmE,GAAG,oBAAAlD,MAAA,CAAsBrB,KAAK,CAAE,CACtDyB,OAAO,CAAC+C,GAAG,CAAC,sBAAsB,CAAEzI,aAAa,CAACqE,OAAO,CAACmE,GAAG,CAAC,CAC9DxI,aAAa,CAACqE,OAAO,CAACqE,IAAI,CAAC,CAAC,CAC5B1I,aAAa,CAACqE,OAAO,CAACsE,gBAAgB,CAAG,UAAM,CAC7C3I,aAAa,CAACqE,OAAO,CAACuE,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,SAAAlD,KAAK,CAAI,CAC1CD,OAAO,CAACC,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC9C,CAAC,CAAC,CACJ,CAAC,CACD3F,aAAa,CAACqE,OAAO,CAACyE,OAAO,CAAG,UAAM,CACpC1F,eAAe,CAAC,IAAI,CAAC,CACrB2F,MAAM,CAAChJ,aAAa,CAACsE,OAAO,CAAC,CAC7BtE,aAAa,CAACsE,OAAO,CAACuE,IAAI,CAAC,CAAC,CAC9B,CAAC,CAED;AACA,GAAM,CAAAI,aAAa,CAAGhJ,aAAa,CAACqE,OAAO,CAAC4E,QAAQ,CAAG,IAAI,CAAE;AAC7D,GAAM,CAAAC,OAAO,CAAG,GAAI,CAAAnH,IAAI,CAAC,CAAC,CAACoH,OAAO,CAAC,CAAC,CAAGH,aAAa,CAAG,KAAK,CAAE;AAC9DxF,mBAAmB,CAAC0F,OAAO,CAAC,CAC9B,CAAC,CAAC,CACJ,CAAC,CAED,GAAM,CAAAX,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAIa,KAAK,CAAEC,QAAQ,CAAK,CACnC,GAAI,CAAA7I,MAAM,CAAG4I,KAAK,CAAC5I,MAAM,CACzB,GAAM,CAAA8I,SAAS,CAAGzF,WAAW,CAAC,UAAM,CAClC,GAAIrD,MAAM,CAAG,GAAG,CAAE,CAChBA,MAAM,EAAI,GAAG,CACb4I,KAAK,CAAC5I,MAAM,CAAGA,MAAM,CACvB,CAAC,IAAM,CACL4D,aAAa,CAACkF,SAAS,CAAC,CACxBF,KAAK,CAAC5I,MAAM,CAAG,CAAC,CAChB6I,QAAQ,CAAC,CAAC,CACZ,CACF,CAAC,CAAE,GAAG,CAAC,CACT,CAAC,CAED,GAAM,CAAAN,MAAM,CAAG,QAAT,CAAAA,MAAMA,CAAIK,KAAK,CAAK,CACxB,GAAI,CAAA5I,MAAM,CAAG,CAAC,CACd,GAAM,CAAA8I,SAAS,CAAGzF,WAAW,CAAC,UAAM,CAClC,GAAIrD,MAAM,CAAG,GAAG,CAAE,CAChBA,MAAM,EAAI,GAAG,CACb4I,KAAK,CAAC5I,MAAM,CAAGA,MAAM,CACvB,CAAC,IAAM,CACL4D,aAAa,CAACkF,SAAS,CAAC,CACxBF,KAAK,CAAC5I,MAAM,CAAG,GAAG,CACpB,CACF,CAAC,CAAE,GAAG,CAAC,CACT,CAAC,CAED,GAAM,CAAAiE,gBAAgB,CAAG,QAAnB,CAAAA,gBAAgBA,CAAA,CAAS,CAC7B,GAAM,CAAAX,GAAG,CAAG,GAAI,CAAA/B,IAAI,CAAC,CAAC,CACtB,GAAM,CAAAwH,YAAY,CAAGvI,QAAQ,CAACwI,MAAM,CAAC,SAAAvF,KAAK,CAAI,CAC5C,IAAAwF,qBAAA,CAAkCxF,KAAK,CAACC,IAAI,CAACwF,KAAK,CAAC,GAAG,CAAC,CAACpC,GAAG,CAACqC,MAAM,CAAC,CAAAC,sBAAA,CAAAzJ,cAAA,CAAAsJ,qBAAA,IAA5DI,KAAK,CAAAD,sBAAA,IAAEE,OAAO,CAAAF,sBAAA,IAAEG,OAAO,CAAAH,sBAAA,IAC9B,GAAM,CAAAI,SAAS,CAAG,GAAI,CAAAjI,IAAI,CAAC,CAAC,CAC5BiI,SAAS,CAACC,QAAQ,CAACJ,KAAK,CAAEC,OAAO,CAAEC,OAAO,CAAC,CAC3C,MAAO,CAAAC,SAAS,CAAGlG,GAAG,CACxB,CAAC,CAAC,CAEF,GAAIyF,YAAY,CAACpC,MAAM,CAAG,CAAC,CAAE,CAC3B,GAAM,CAAA+C,SAAS,CAAGX,YAAY,CAAC,CAAC,CAAC,CACjC,GAAM,CAAAY,aAAa,CAAG,GAAI,CAAApI,IAAI,CAAC,CAAC,CAChC,IAAAqI,qBAAA,CAAkCF,SAAS,CAAChG,IAAI,CAACwF,KAAK,CAAC,GAAG,CAAC,CAACpC,GAAG,CAACqC,MAAM,CAAC,CAAAU,sBAAA,CAAAlK,cAAA,CAAAiK,qBAAA,IAAhEP,KAAK,CAAAQ,sBAAA,IAAEP,OAAO,CAAAO,sBAAA,IAAEN,OAAO,CAAAM,sBAAA,IAC9BF,aAAa,CAACF,QAAQ,CAACJ,KAAK,CAAEC,OAAO,CAAEC,OAAO,CAAC,CAE/C;AACA,GAAII,aAAa,CAAGrG,GAAG,EAAI,KAAK,EAAI9D,aAAa,CAACqE,OAAO,CAACmE,GAAG,sBAAAlD,MAAA,CAAwB4E,SAAS,CAACjG,KAAK,CAAE,CAAE,CACtGjE,aAAa,CAACqE,OAAO,CAACmE,GAAG,oBAAAlD,MAAA,CAAsB4E,SAAS,CAACjG,KAAK,CAAE,CAChEjE,aAAa,CAACqE,OAAO,CAACqE,IAAI,CAAC,CAAC,CAC9B,CACF,CACF,CAAC,CAED,GAAM,CAAAnE,mBAAmB,CAAG,QAAtB,CAAAA,mBAAmBA,CAAA,CAAS,CAChC,GAAM,CAAA+F,SAAS,CAAG,CAAC/H,sBAAsB,CAAG,CAAC,EAAI3B,WAAW,CAACuG,MAAM,CACnE3E,yBAAyB,CAAC8H,SAAS,CAAC,CACpClE,cAAc,CAACkE,SAAS,CAAC,CAC3B,CAAC,CAED,GAAM,CAAAlE,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAuC,IAAnC,CAAAmE,KAAK,CAAAzE,SAAA,CAAAqB,MAAA,IAAArB,SAAA,MAAA0E,SAAA,CAAA1E,SAAA,IAAGvD,sBAAsB,CACpD,GAAI3B,WAAW,CAACuG,MAAM,CAAG,CAAC,EAAIpH,aAAa,CAACsE,OAAO,CAAE,CACnD,GAAM,CAAAgD,SAAS,CAAGO,YAAY,CAACK,OAAO,CAAC,aAAa,CAAC,CACrD,GAAIZ,SAAS,CAAE,CACb,GAAM,CAAAoD,MAAM,CAAG3C,IAAI,CAACI,KAAK,CAACb,SAAS,CAAC,CACpCtH,aAAa,CAACsE,OAAO,CAACmE,GAAG,CAAGiC,MAAM,CAACF,KAAK,CAAC,CAAC9C,GAAG,CAC7C1H,aAAa,CAACsE,OAAO,CAACuE,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,SAAAlD,KAAK,CAAI,CAC1CD,OAAO,CAACC,KAAK,CAAC,4BAA4B,CAAEA,KAAK,CAAC,CACpD,CAAC,CAAC,CACJ,CACF,CACF,CAAC,CAED,GAAM,CAAA+E,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAA,CAAS,CAC3B,GAAM,CAAAC,WAAW,CAAG,CAAE1G,KAAK,CAAE7C,QAAQ,CAAE8C,IAAI,CAAE1C,OAAO,CAAEI,SAAS,CAATA,SAAU,CAAC,CAAE;AACnE,GAAM,CAAAgJ,eAAe,IAAAtF,MAAA,CAAAuF,kBAAA,CAAO7J,QAAQ,GAAE2J,WAAW,EAAC,CAClD1J,WAAW,CAAC2J,eAAe,CAAC,CAC5BzL,KAAK,CAAC2L,IAAI,WAAAxF,MAAA,CAAWzF,EAAE,cAAa+K,eAAe,CAAC,CACjDG,IAAI,CAAC,SAAAhG,QAAQ,CAAI,CAChBW,OAAO,CAAC+C,GAAG,CAAC,0BAA0B,CAAC,CACzC,CAAC,CAAC,CACDI,KAAK,CAAC,SAAAlD,KAAK,CAAI,CACdD,OAAO,CAACC,KAAK,CAAC,iCAAiC,CAAEA,KAAK,CAAC,CACzD,CAAC,CAAC,CACJtE,WAAW,CAAC,EAAE,CAAC,CACfI,UAAU,CAAC,EAAE,CAAC,CACdI,YAAY,CAAC,EAAE,CAAC,CAAE;AACpB,CAAC,CAED,GAAM,CAAAmJ,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAIC,cAAc,CAAEC,WAAW,CAAEC,gBAAgB,CAAK,CACrE,GAAM,CAAArH,GAAG,CAAG,GAAI,CAAA/B,IAAI,CAAC,CAAC,CACtB,GAAM,CAAAqJ,OAAO,CAAG,GAAI,CAAArJ,IAAI,CAACmJ,WAAW,CAAC,CACrC,GAAM,CAAAG,UAAU,CAAG,GAAI,CAAAtJ,IAAI,CAACkJ,cAAc,CAAC,CAE3C,GAAI,CAAAK,gBAAgB,CAAG,CAAC,CACxB,OAAQH,gBAAgB,EACtB,IAAK,OAAO,CACVG,gBAAgB,CAAG,CAAC,CACpB,MACF,IAAK,SAAS,CACZA,gBAAgB,CAAG,EAAE,CACrB,MACF,IAAK,UAAU,CACbA,gBAAgB,CAAG,EAAE,CACrB,MACF,IAAK,UAAU,CACbA,gBAAgB,CAAG,GAAG,CACtB,MACF,IAAK,QAAQ,CACXA,gBAAgB,CAAG,GAAG,CACtB,MACF,QACEA,gBAAgB,CAAG,CAAC,CACxB,CAEA,GAAM,CAAAC,WAAW,CAAGnM,iBAAiB,CAAC0E,GAAG,CAAEsH,OAAO,CAAC,CACnD,GAAM,CAAAI,UAAU,CAAGC,IAAI,CAACC,IAAI,CAACH,WAAW,CAAG,EAAE,CAAC,CAC9C,GAAM,CAAAI,QAAQ,CAAGL,gBAAgB,CAAGE,UAAU,CAE9C,MAAO,CAAAG,QAAQ,CACjB,CAAC,CAED,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAIC,aAAa,CAAK,CACtC,GAAM,CAAA/H,GAAG,CAAG,GAAI,CAAA/B,IAAI,CAAC,CAAC,CACtB,GAAM,CAAA+J,aAAa,CAAG,GAAI,CAAA/J,IAAI,CAAC,CAAC,CAChC,IAAAgK,qBAAA,CAAkCF,aAAa,CAACnC,KAAK,CAAC,GAAG,CAAC,CAACpC,GAAG,CAACqC,MAAM,CAAC,CAAAqC,sBAAA,CAAA7L,cAAA,CAAA4L,qBAAA,IAA/DlC,KAAK,CAAAmC,sBAAA,IAAElC,OAAO,CAAAkC,sBAAA,IAAEjC,OAAO,CAAAiC,sBAAA,IAC9BF,aAAa,CAAC7B,QAAQ,CAACJ,KAAK,CAAEC,OAAO,CAAEC,OAAO,CAAC,CAC/C,GAAM,CAAAkC,mBAAmB,CAAG,CAACH,aAAa,CAAGhI,GAAG,EAAI,KAAK,CACzD,MAAO,CAAAmI,mBAAmB,EAAI,CAAC,EAAIA,mBAAmB,EAAI,CAAC,CAC7D,CAAC,CAED,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAA,CAAS,CACzBtE,YAAY,CAACuE,UAAU,CAAC,OAAO,CAAC,CAChCvE,YAAY,CAACuE,UAAU,CAAC,MAAM,CAAC,CAC/BrM,QAAQ,CAAC,QAAQ,CAAC,CACpB,CAAC,CAED,GAAI,CAAC6C,OAAO,CAAE,CACZ,mBAAOnD,IAAA,QAAA4M,QAAA,CAAK,YAAU,CAAK,CAAC,CAC9B,CAEA,GAAIzJ,OAAO,CAAC0J,OAAO,CAAE,CACnB,mBACE3M,KAAA,QAAK4M,SAAS,CAAC,+EAA+E,CAAAF,QAAA,eAC5F5M,IAAA,UAAA4M,QAAA,gJAMS,CAAC,cACV5M,IAAA,QAAK8M,SAAS,CAAC,iBAAiB,CAAAF,QAAA,CAAC,0BAAwB,CAAK,CAAC,cAC/D5M,IAAA,QAAA4M,QAAA,CAAMzJ,OAAO,CAAC4J,WAAW,CAAM,CAAC,EAC7B,CAAC,CAEV,CAEA,mBACE7M,KAAA,QAAA0M,QAAA,eACE5M,IAAA,CAACF,MAAM,GAAE,CAAC,cACVI,KAAA,QAAK4M,SAAS,CAAC,2BAA2B,CAAAF,QAAA,eACxC1M,KAAA,QAAK4M,SAAS,CAAC,0CAA0C,CAAAF,QAAA,eACvD5M,IAAA,UAAA4M,QAAA,25EA+ES,CAAC,cACV1M,KAAA,QAAK4M,SAAS,CAAC,gBAAgB,CAAAF,QAAA,eAC7B5M,IAAA,CAACP,IAAI,EAACuN,EAAE,WAAAlH,MAAA,CAAYzF,EAAE,YAAW,CAAAuM,QAAA,cAC/B5M,IAAA,WAAQ8M,SAAS,CAAC,iBAAiB,CAAAF,QAAA,CAAC,eAAa,CAAQ,CAAC,CACtD,CAAC,cACP5M,IAAA,CAACP,IAAI,EAACuN,EAAE,WAAAlH,MAAA,CAAYzF,EAAE,CAAG,CAAAuM,QAAA,cACvB5M,IAAA,WAAQ8M,SAAS,CAAC,cAAc,CAAAF,QAAA,CAAC,oBAAkB,CAAQ,CAAC,CACxD,CAAC,cACP5M,IAAA,WAAQ8M,SAAS,CAAC,mBAAmB,CAACG,OAAO,CAAEP,YAAa,CAAAE,QAAA,CAAC,QAAM,CAAQ,CAAC,EACzE,CAAC,cACN1M,KAAA,QAAK4M,SAAS,CAAC,QAAQ,CAAAF,QAAA,eACrB1M,KAAA,OAAA0M,QAAA,EAAKzJ,OAAO,CAAC6E,IAAI,CAAC,KAAG,CAAC7E,OAAO,CAAC4J,WAAW,EAAK,CAAC,cAC/C/M,IAAA,QAAK8M,SAAS,CAAC,mBAAmB,CAAAF,QAAA,cAChC1M,KAAA,MAAA0M,QAAA,EAAG,qBAAmB,CAACzJ,OAAO,CAACwI,gBAAgB,cAAC3L,IAAA,QAAQ,CAAC,wBACpC,CAACwL,WAAW,CAACrI,OAAO,CAACsI,cAAc,CAAEtI,OAAO,CAACuI,WAAW,CAAEvI,OAAO,CAACwI,gBAAgB,CAAC,EAAI,CAAC,CAC1G,CAAC,EACH,CAAC,cACNzL,KAAA,QAAK4M,SAAS,CAAC,mCAAmC,CAAAF,QAAA,eAChD5M,IAAA,QAAK8M,SAAS,CAAC,wCAAwC,CAAAF,QAAA,cACrD1M,KAAA,QAAK4M,SAAS,CAAC,0BAA0B,CAAAF,QAAA,EACtCzJ,OAAO,CAAC+J,IAAI,eAAIlN,IAAA,QAAKgJ,GAAG,aAAAlD,MAAA,CAAc3C,OAAO,CAAC+J,IAAI,CAAG,CAACC,GAAG,CAAC,cAAc,CAACL,SAAS,CAAC,gBAAgB,CAAE,CAAC,cACvG9M,IAAA,UAAOoN,GAAG,CAAE7M,aAAc,CAAC8M,OAAO,CAAC,MAAM,CAACC,KAAK,CAAE,CAAEC,OAAO,CAAE,OAAQ,CAAE,CAAQ,CAAC,cAC/EvN,IAAA,UAAOoN,GAAG,CAAE5M,aAAc,CAAC6M,OAAO,CAAC,MAAM,CAACC,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAO,CAAE,CAAQ,CAAC,cAC9ErN,KAAA,QAAK4M,SAAS,CAAC,MAAM,CAAAF,QAAA,eACnB5M,IAAA,WAAQ8M,SAAS,CAAC,+BAA+B,CAACG,OAAO,CAAEtG,UAAW,CAAAiG,QAAA,CAAC,MAAI,CAAQ,CAAC,cACpF5M,IAAA,WAAQ8M,SAAS,CAAC,+BAA+B,CAACG,OAAO,CAAEpG,WAAY,CAAA+F,QAAA,CAAC,OAAK,CAAQ,CAAC,cACtF5M,IAAA,WAAQ8M,SAAS,CAAC,+BAA+B,CAACG,OAAO,CAAElG,UAAW,CAAA6F,QAAA,CAAEhM,OAAO,CAAG,QAAQ,CAAG,MAAM,CAAS,CAAC,EAC1G,CAAC,cACNZ,IAAA,QAAK8M,SAAS,CAAC,MAAM,CAAAF,QAAA,cACnB5M,IAAA,UACEwN,IAAI,CAAC,OAAO,CACZV,SAAS,CAAC,oBAAoB,CAC9BW,GAAG,CAAC,GAAG,CACPC,GAAG,CAAC,GAAG,CACPC,IAAI,CAAC,MAAM,CACXrG,KAAK,CAAEtG,MAAO,CACd4M,QAAQ,CAAE1G,kBAAmB,CAC9B,CAAC,CACC,CAAC,cACNlH,IAAA,UACEwN,IAAI,CAAC,MAAM,CACXK,eAAe,CAAC,MAAM,CACtBC,QAAQ,MACRF,QAAQ,CAAErG,gBAAiB,CAC3BwG,MAAM,CAAC,MAAM,CACbjB,SAAS,CAAC,cAAc,CACzB,CAAC,CACDvJ,YAAY,eAAIvD,IAAA,MAAA4M,QAAA,CAAIrJ,YAAY,CAAI,CAAC,EACnC,CAAC,CACH,CAAC,cACNvD,IAAA,QAAK8M,SAAS,CAAC,wCAAwC,CAAAF,QAAA,CACpDzJ,OAAO,CAAC2F,YAAY,cACnB5I,KAAA,QAAK4M,SAAS,CAAC,sBAAsB,CAAAF,QAAA,eACnC5M,IAAA,QAAK8M,SAAS,CAAC,aAAa,CAAAF,QAAA,cAC1B5M,IAAA,OAAA4M,QAAA,CAAI,kBAAgB,CAAI,CAAC,CACtB,CAAC,cACN5M,IAAA,MAAGsN,KAAK,CAAE,CAAEU,KAAK,CAAE,KAAK,CAAEC,UAAU,CAAE,MAAO,CAAE,CAAArB,QAAA,CAAC,yDAAuD,CAAG,CAAC,EACxG,CAAC,cAEN1M,KAAA,QAAK4M,SAAS,CAAC,sBAAsB,CAAAF,QAAA,eACnC1M,KAAA,QAAK4M,SAAS,CAAC,aAAa,CAAAF,QAAA,eAC1B5M,IAAA,OAAA4M,QAAA,CAAI,kBAAgB,CAAI,CAAC,cACzB1M,KAAA,QAAK4M,SAAS,CAAC,kBAAkB,CAAAF,QAAA,eAC/B5M,IAAA,QAAK,CAAC,cACNA,IAAA,UAAOoN,GAAG,CAAE5M,aAAc,CAAC0N,QAAQ,MAACb,OAAO,CAAC,MAAM,CAACC,KAAK,CAAE,CAAEa,KAAK,CAAE,MAAO,CAAE,CAAQ,CAAC,EAClF,CAAC,EACH,CAAC,cACNnO,IAAA,OAAI8M,SAAS,CAAC,6BAA6B,CAAAF,QAAA,CACxCpL,QAAQ,CAACsG,GAAG,CAAC,SAACsG,IAAI,CAAErD,KAAK,CAAK,CAC7B,GAAM,CAAAsD,SAAS,CAAGD,IAAI,CAAC3J,KAAK,GAAKd,YAAY,CAC7C,GAAM,CAAA2K,aAAa,CAAGvK,gBAAgB,EAAI,GAAI,CAAAxB,IAAI,CAAC,CAAC,CAACoH,OAAO,CAAC,CAAC,CAAG5F,gBAAgB,CACjF,mBACE7D,KAAA,OAEE4M,SAAS,sEAAAhH,MAAA,CAAuEuI,SAAS,EAAIC,aAAa,CAAG,YAAY,CAAG,EAAE,CAAG,CACjIhB,KAAK,CAAEe,SAAS,EAAIC,aAAa,CAAG,CAAEL,UAAU,CAAE,MAAM,CAAEM,eAAe,CAAE,SAAU,CAAC,CAAG,CAAC,CAAE,CAAA3B,QAAA,eAE5F5M,IAAA,SACE8M,SAAS,CAAC,KAAK,CACfQ,KAAK,CAAE,CACLkB,MAAM,CAAE,MAAM,CACdL,KAAK,CAAE,MAAM,CACbI,eAAe,CAAE,SAAS,CAC1BE,YAAY,CAAE,KAAK,CACnBlB,OAAO,CAAE,cAAc,CACvBmB,WAAW,CAAE,MACf,CAAE,CACG,CAAC,CACPN,IAAI,CAAC1J,IAAI,CAAC,KAAG,CAAC0J,IAAI,CAAChM,SAAS,CAAC,GAAC,GAf1B2I,KAiBH,CAAC,CAET,CAAC,CAAC,CACA,CAAC,EACF,CACN,CACE,CAAC,cACN/K,IAAA,QAAK8M,SAAS,CAAC,wCAAwC,CAAAF,QAAA,cACrD1M,KAAA,QAAK4M,SAAS,CAAC,sBAAsB,CAAAF,QAAA,eACnC5M,IAAA,QAAK8M,SAAS,CAAC,aAAa,CAAAF,QAAA,cAC1B5M,IAAA,OAAA4M,QAAA,CAAI,cAAY,CAAI,CAAC,CAClB,CAAC,cACN5M,IAAA,OAAI8M,SAAS,CAAC,6BAA6B,CAAAF,QAAA,CACxCxL,WAAW,CAAC0G,GAAG,CAAC,SAACrD,KAAK,CAAEsG,KAAK,qBAC5B/K,IAAA,OAEEiN,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAAjK,yBAAyB,CAAC+H,KAAK,CAAC,EAAC,CAChD+B,SAAS,oBAAAhH,MAAA,CAAqBiF,KAAK,GAAKhI,sBAAsB,CAAG,QAAQ,CAAG,EAAE,CAAG,CAAA6J,QAAA,CAEhFnI,KAAK,CAACuD,IAAI,EAJN+C,KAKH,CAAC,EACN,CAAC,CACA,CAAC,EACF,CAAC,CACH,CAAC,EACH,CAAC,EACH,CAAC,cACN/K,IAAA,QAAQ,CAAC,cACTA,IAAA,CAACH,MAAM,GAAE,CAAC,EACP,CAAC,EACH,CAAC,CAEV,CAAC,CAED,cAAe,CAAAM,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}