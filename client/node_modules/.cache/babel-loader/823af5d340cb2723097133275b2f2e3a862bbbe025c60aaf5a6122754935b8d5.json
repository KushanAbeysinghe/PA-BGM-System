{"ast":null,"code":"import _toConsumableArray from\"C:/Users/kusha/Desktop/Radio Alarm System - Copy/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _regeneratorRuntime from\"C:/Users/kusha/Desktop/Radio Alarm System - Copy/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/kusha/Desktop/Radio Alarm System - Copy/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/kusha/Desktop/Radio Alarm System - Copy/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useRef,useState,useEffect}from'react';import axios from'axios';import{useParams,Link,useNavigate}from'react-router-dom';import{differenceInHours}from'date-fns';import Footer from'./Footer';import Header from'./Header';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RadioPlayer=function RadioPlayer(){var _useParams=useParams(),id=_useParams.id;var navigate=useNavigate();var audioRef=useRef(null);var scheduledTrackRef=useRef(null);var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isMuted=_useState2[0],setIsMuted=_useState2[1];var _useState3=useState(1),_useState4=_slicedToArray(_useState3,2),volume=_useState4[0],setVolume=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),isLoading=_useState6[0],setIsLoading=_useState6[1];var _useState7=useState(navigator.onLine),_useState8=_slicedToArray(_useState7,2),isOnline=_useState8[0],setIsOnline=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),tracks=_useState10[0],setTracks=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),schedule=_useState12[0],setSchedule=_useState12[1];var _useState13=useState(''),_useState14=_slicedToArray(_useState13,2),newTrack=_useState14[0],setNewTrack=_useState14[1];var _useState15=useState(''),_useState16=_slicedToArray(_useState15,2),newTime=_useState16[0],setNewTime=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),alarmName=_useState18[0],setAlarmName=_useState18[1];// New state for alarm name\nvar _useState19=useState(new Date().toLocaleTimeString('en-GB',{hour12:false})),_useState20=_slicedToArray(_useState19,2),currentTime=_useState20[0],setCurrentTime=_useState20[1];var _useState21=useState(null),_useState22=_slicedToArray(_useState21,2),profile=_useState22[0],setProfile=_useState22[1];var _useState23=useState(''),_useState24=_slicedToArray(_useState23,2),errorMessage=_useState24[0],setErrorMessage=_useState24[1];var _useState25=useState(false),_useState26=_slicedToArray(_useState25,2),userInteracted=_useState26[0],setUserInteracted=_useState26[1];var _useState27=useState(null),_useState28=_slicedToArray(_useState27,2),playingTrack=_useState28[0],setPlayingTrack=_useState28[1];var _useState29=useState(null),_useState30=_slicedToArray(_useState29,2),highlightEndTime=_useState30[0],setHighlightEndTime=_useState30[1];useEffect(function(){fetchRadioProfile();fetchTracks();fetchSchedule();},[]);useEffect(function(){var interval=setInterval(function(){var now=new Date().toLocaleTimeString('en-GB',{hour12:false});setCurrentTime(now);var scheduledTrack=schedule.find(function(track){return track.time===now;});if(scheduledTrack){playScheduledTrack(scheduledTrack.track);}},1000);return function(){return clearInterval(interval);};},[schedule,profile,currentTime]);useEffect(function(){if(!profile)return;var audioElement=audioRef.current;if(!audioElement)return;var handleAudioError=function handleAudioError(){console.error('Stream error, attempting to reload the stream...');};var handleOnline=function handleOnline(){console.log('Internet connection restored, refreshing the page...');setIsOnline(true);window.location.reload(true);};var handleOffline=function handleOffline(){console.log('Internet connection lost.');setIsOnline(false);};audioElement.addEventListener('error',handleAudioError);window.addEventListener('online',handleOnline);window.addEventListener('offline',handleOffline);audioElement.muted=false;setIsMuted(false);return function(){audioElement.removeEventListener('error',handleAudioError);window.removeEventListener('online',handleOnline);window.removeEventListener('offline',handleOffline);};},[profile]);useEffect(function(){var interval=setInterval(function(){preloadNextTrack();},5000);// Check every 5 seconds to preload the next track\nreturn function(){return clearInterval(interval);};},[schedule,currentTime]);var fetchRadioProfile=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(\"/radiostreams/\".concat(id));case 3:response=_context.sent;setProfile(response.data);_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);console.error('There was an error fetching the radio profile!',_context.t0);case 10:case\"end\":return _context.stop();}},_callee,null,[[0,7]]);}));return function fetchRadioProfile(){return _ref.apply(this,arguments);};}();var fetchTracks=function fetchTracks(){axios.get(\"/radio/\".concat(id,\"/tracks\")).then(function(response){setTracks(response.data);}).catch(function(error){console.error('There was an error fetching the tracks!',error);});};var fetchSchedule=function fetchSchedule(){axios.get(\"/radio/\".concat(id,\"/schedule\")).then(function(response){setSchedule(response.data);}).catch(function(error){console.error('There was an error fetching the schedule!',error);});};var handlePlay=function handlePlay(){if(!profile||profile.blocked)return;var audioElement=audioRef.current;setIsLoading(true);audioElement.src=profile.url;audioElement.load();audioElement.play().then(function(){setIsLoading(false);}).catch(function(error){console.error('Error attempting to play the stream:',error);setIsLoading(true);});};var handleUserInteraction=function handleUserInteraction(){setUserInteracted(true);handlePlay();// Automatically play when the user interacts\n};var handleMute=function handleMute(){if(!audioRef.current)return;audioRef.current.muted=!audioRef.current.muted;setIsMuted(!isMuted);};var handleVolumeChange=function handleVolumeChange(event){var newVolume=event.target.value;if(!audioRef.current)return;audioRef.current.volume=newVolume;setVolume(newVolume);};var playScheduledTrack=function playScheduledTrack(track){if(!profile||profile.alarmBlocked||!audioRef.current||!scheduledTrackRef.current)return;setPlayingTrack(track);fadeOut(audioRef.current,function(){scheduledTrackRef.current.src=\"/uploads/tracks/\".concat(track);console.log('Track source set to:',scheduledTrackRef.current.src);scheduledTrackRef.current.load();scheduledTrackRef.current.oncanplaythrough=function(){scheduledTrackRef.current.play().catch(function(error){console.error('Error playing track:',error);});};scheduledTrackRef.current.onended=function(){setPlayingTrack(null);fadeIn(audioRef.current);audioRef.current.play();};// Calculate the end time for highlighting\nvar trackDuration=scheduledTrackRef.current.duration*1000;// duration in milliseconds\nvar endTime=new Date().getTime()+trackDuration+20000;// add 20 seconds\nsetHighlightEndTime(endTime);});};var fadeOut=function fadeOut(audio,callback){var volume=1.0;var fadeAudio=setInterval(function(){if(volume>0.1){volume-=0.1;audio.volume=volume;}else{clearInterval(fadeAudio);audio.volume=0;callback();}},200);};var fadeIn=function fadeIn(audio){var volume=0;var fadeAudio=setInterval(function(){if(volume<0.9){volume+=0.1;audio.volume=volume;}else{clearInterval(fadeAudio);audio.volume=1.0;}},200);};var preloadNextTrack=function preloadNextTrack(){var now=new Date();var futureTracks=schedule.filter(function(track){var _track$time$split$map=track.time.split(':').map(Number),_track$time$split$map2=_slicedToArray(_track$time$split$map,3),hours=_track$time$split$map2[0],minutes=_track$time$split$map2[1],seconds=_track$time$split$map2[2];var trackTime=new Date();trackTime.setHours(hours,minutes,seconds);return trackTime>now;});if(futureTracks.length>0){var nextTrack=futureTracks[0];var nextTrackTime=new Date();var _nextTrack$time$split=nextTrack.time.split(':').map(Number),_nextTrack$time$split2=_slicedToArray(_nextTrack$time$split,3),hours=_nextTrack$time$split2[0],minutes=_nextTrack$time$split2[1],seconds=_nextTrack$time$split2[2];nextTrackTime.setHours(hours,minutes,seconds);// Preload the track 60 seconds before the scheduled time\nif(nextTrackTime-now<=60000&&scheduledTrackRef.current.src!==\"/uploads/tracks/\".concat(nextTrack.track)){scheduledTrackRef.current.src=\"/uploads/tracks/\".concat(nextTrack.track);scheduledTrackRef.current.load();}}};var handleAddTrack=function handleAddTrack(){var newSchedule={track:newTrack,time:newTime,alarmName:alarmName};// Include alarm name\nvar updatedSchedule=[].concat(_toConsumableArray(schedule),[newSchedule]);setSchedule(updatedSchedule);axios.post(\"/radio/\".concat(id,\"/schedule\"),updatedSchedule).then(function(response){console.log('Schedule saved to server');}).catch(function(error){console.error('Error saving schedule to server',error);});setNewTrack('');setNewTime('');setAlarmName('');// Clear alarm name input\n};var getDaysLeft=function getDaysLeft(expirationDate,createdDate,subscriptionPlan){var now=new Date();var created=new Date(createdDate);var expiration=new Date(expirationDate);var subscriptionDays=0;switch(subscriptionPlan){case'1 Day':subscriptionDays=1;break;case'1 Month':subscriptionDays=30;break;case'3 Months':subscriptionDays=90;break;case'6 Months':subscriptionDays=180;break;case'1 Year':subscriptionDays=365;break;default:subscriptionDays=0;}var hoursPassed=differenceInHours(now,created);var daysPassed=Math.ceil(hoursPassed/24);var daysLeft=subscriptionDays-daysPassed;// console.log(`Current Date: ${now}`);\n// console.log(`Created Date: ${created}`);\n// console.log(`Expiration Date: ${expiration}`);\n// console.log(`Hours Passed: ${hoursPassed}`);\n// console.log(`Days Passed (ceil): ${daysPassed}`);\n// console.log(`Subscription Days: ${subscriptionDays}`);\n// console.log(`Days Left: ${daysLeft}`);\nreturn daysLeft;};var isNextToPlay=function isNextToPlay(scheduledTime){var now=new Date();var scheduledDate=new Date();var _scheduledTime$split$=scheduledTime.split(':').map(Number),_scheduledTime$split$2=_slicedToArray(_scheduledTime$split$,3),hours=_scheduledTime$split$2[0],minutes=_scheduledTime$split$2[1],seconds=_scheduledTime$split$2[2];scheduledDate.setHours(hours,minutes,seconds);var differenceInMinutes=(scheduledDate-now)/60000;return differenceInMinutes>=0&&differenceInMinutes<=1;};var handleLogout=function handleLogout(){localStorage.removeItem('token');localStorage.removeItem('user');navigate('/login');};if(!profile){return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});}if(profile.blocked){return/*#__PURE__*/_jsxs(\"div\",{className:\"container vh-100 d-flex flex-column align-items-center justify-content-center\",children:[/*#__PURE__*/_jsx(\"style\",{children:\"\\n          .blocked-message {\\n            color: red;\\n            font-weight: bold;\\n            font-size: 24px;\\n          }\\n        \"}),/*#__PURE__*/_jsx(\"div\",{className:\"blocked-message\",children:\"Your profile is blocked.\"}),/*#__PURE__*/_jsx(\"div\",{children:profile.companyName})]});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-column vh-100\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container flex-grow-1 d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"style\",{children:\"\\n            .radio-player {\\n              background-color: white;\\n              border-radius: 8px;\\n              padding: 20px;\\n              box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);\\n              width: 450px;\\n            }\\n            .radio-player h1 {\\n              font-size: 24px;\\n              font-weight: bold;\\n            }\\n            .radio-player img {\\n              max-width: 100%;\\n              height: auto;\\n              padding: 10px;\\n              box-sizing: border-box;\\n            }\\n            .radio-player .form-control-range {\\n              width: 100%;\\n            }\\n            .radio-player .btn {\\n              width: 100%;\\n            }\\n            .radio-player .profile-info h2 {\\n              margin-top: 20px;\\n              font-size: 18px;\\n              font-weight: bold;\\n            }\\n            .radio-player .profile-info p {\\n              font-size: 16px;\\n            }\\n            .radio-player .list-group-item {\\n              margin-top: 10px;\\n              background-color: #f8f9fa;\\n              border: 1px solid #dee2e6;\\n              transition: background-color 0.3s, transform 0.3s;\\n            }\\n            .radio-player .list-group-item:hover {\\n              background-color: #e9ecef;\\n              transform: scale(1.02);\\n            }\\n            .radio-player .list-group-item.active {\\n              background-color: #007bff;\\n              color: white;\\n            }\\n            .action-buttons {\\n              position: absolute;\\n              top: 10px;\\n              right: 10px;\\n              display: flex;\\n              gap: 10px;\\n            }\\n            .header {\\n              text-align: center;\\n              margin-bottom: 10px;\\n            }\\n            .header h1 {\\n              font-size: 2rem;\\n              margin-top: 20px;\\n            }\\n            .header h2 {\\n              font-size: 1rem;\\n              margin: 0;\\n            }\\n            .subscription-info {\\n              text-align: center;\\n              font-size: 1rem;\\n              margin-top: 10px;\\n            }\\n            .card {\\n              width: 100%;\\n              background-color: #f8f9fa;\\n              border: 1px solid #dee2e6;\\n              box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);\\n            }\\n          \"}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-buttons\",children:[profile.alarmBlocked?/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",disabled:true,children:\"Go to Profile\"}):/*#__PURE__*/_jsx(Link,{to:\"/radio/\".concat(id,\"/profile\"),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",children:\"Go to Profile\"})}),/*#__PURE__*/_jsx(Link,{to:\"/localplayer/\".concat(id),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-info\",children:\"Go to Local Player\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary\",onClick:handleLogout,children:\"Logout\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsxs(\"h1\",{children:[profile.name,\" - \",profile.companyName]}),/*#__PURE__*/_jsx(\"div\",{className:\"subscription-info\",children:/*#__PURE__*/_jsxs(\"p\",{children:[\"Subscription Plan: \",profile.subscriptionPlan,/*#__PURE__*/_jsx(\"br\",{}),\"Days left to expire: \",getDaysLeft(profile.expirationDate,profile.createdDate,profile.subscriptionPlan)]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row flex-grow-1 align-items-start\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 d-flex justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"radio-player text-center\",onClick:handleUserInteraction,children:[profile.logo&&/*#__PURE__*/_jsx(\"img\",{src:\"/uploads/\".concat(profile.logo),alt:\"Company Logo\",className:\"img-fluid mb-3\"}),/*#__PURE__*/_jsx(\"audio\",{ref:audioRef,preload:\"none\",style:{display:'none'}}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-block mb-2\",onClick:handlePlay,children:\"Live\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-block mb-2\",onClick:handleMute,children:isMuted?'Unmute':'Mute'})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"range\",className:\"form-control-range\",min:\"0\",max:\"1\",step:\"0.01\",value:volume,onChange:handleVolumeChange})}),isLoading&&/*#__PURE__*/_jsx(\"p\",{children:\"Connecting...\"}),!isOnline&&/*#__PURE__*/_jsx(\"p\",{children:\"No connection.\"}),errorMessage&&/*#__PURE__*/_jsx(\"p\",{children:errorMessage})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6 d-flex justify-content-center\",children:profile.alarmBlocked?/*#__PURE__*/_jsxs(\"div\",{className:\"card text-center p-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Alarm System is blocked\"})}),/*#__PURE__*/_jsx(\"p\",{style:{color:'red',fontWeight:'bold'},children:\"The alarm system for this profile is currently blocked.\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"card text-center p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Scheduled Tracks\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"scheduled-player\",children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"audio\",{ref:scheduledTrackRef,controls:true,preload:\"none\",style:{width:'100%'}}),\" \"]})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group list-group-flush\",children:schedule.map(function(item,index){var isPlaying=item.track===playingTrack;var isHighlighted=highlightEndTime&&new Date().getTime()<highlightEndTime;return/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item d-flex justify-content-between align-items-center \".concat(isPlaying||isHighlighted?'bg-warning':''),style:isNextToPlay(item.time)?{fontWeight:'bold',backgroundColor:'#ffecb3'}:{},children:[/*#__PURE__*/_jsx(\"span\",{className:\"dot\",style:{height:'10px',width:'10px',backgroundColor:'#ff0000',borderRadius:'50%',display:'inline-block',marginRight:'10px'}}),item.time,\"  - \",item.alarmName,\" \"]},index);})})]})})]})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Footer,{})]})]});};export default RadioPlayer;","map":{"version":3,"names":["React","useRef","useState","useEffect","axios","useParams","Link","useNavigate","differenceInHours","Footer","Header","jsx","_jsx","jsxs","_jsxs","RadioPlayer","_useParams","id","navigate","audioRef","scheduledTrackRef","_useState","_useState2","_slicedToArray","isMuted","setIsMuted","_useState3","_useState4","volume","setVolume","_useState5","_useState6","isLoading","setIsLoading","_useState7","navigator","onLine","_useState8","isOnline","setIsOnline","_useState9","_useState10","tracks","setTracks","_useState11","_useState12","schedule","setSchedule","_useState13","_useState14","newTrack","setNewTrack","_useState15","_useState16","newTime","setNewTime","_useState17","_useState18","alarmName","setAlarmName","_useState19","Date","toLocaleTimeString","hour12","_useState20","currentTime","setCurrentTime","_useState21","_useState22","profile","setProfile","_useState23","_useState24","errorMessage","setErrorMessage","_useState25","_useState26","userInteracted","setUserInteracted","_useState27","_useState28","playingTrack","setPlayingTrack","_useState29","_useState30","highlightEndTime","setHighlightEndTime","fetchRadioProfile","fetchTracks","fetchSchedule","interval","setInterval","now","scheduledTrack","find","track","time","playScheduledTrack","clearInterval","audioElement","current","handleAudioError","console","error","handleOnline","log","window","location","reload","handleOffline","addEventListener","muted","removeEventListener","preloadNextTrack","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","get","concat","sent","data","t0","stop","apply","arguments","then","catch","handlePlay","blocked","src","url","load","play","handleUserInteraction","handleMute","handleVolumeChange","event","newVolume","target","value","alarmBlocked","fadeOut","oncanplaythrough","onended","fadeIn","trackDuration","duration","endTime","getTime","audio","callback","fadeAudio","futureTracks","filter","_track$time$split$map","split","map","Number","_track$time$split$map2","hours","minutes","seconds","trackTime","setHours","length","nextTrack","nextTrackTime","_nextTrack$time$split","_nextTrack$time$split2","handleAddTrack","newSchedule","updatedSchedule","_toConsumableArray","post","getDaysLeft","expirationDate","createdDate","subscriptionPlan","created","expiration","subscriptionDays","hoursPassed","daysPassed","Math","ceil","daysLeft","isNextToPlay","scheduledTime","scheduledDate","_scheduledTime$split$","_scheduledTime$split$2","differenceInMinutes","handleLogout","localStorage","removeItem","children","className","companyName","disabled","to","onClick","name","logo","alt","ref","preload","style","display","type","min","max","step","onChange","color","fontWeight","controls","width","item","index","isPlaying","isHighlighted","backgroundColor","height","borderRadius","marginRight"],"sources":["C:/Users/kusha/Desktop/Radio Alarm System - Copy/client/src/components/RadioPlayer.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport { useParams, Link, useNavigate } from 'react-router-dom';\r\nimport { differenceInHours } from 'date-fns';\r\nimport Footer from './Footer';\r\nimport Header from './Header';\r\n\r\nconst RadioPlayer = () => {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const audioRef = useRef(null);\r\n  const scheduledTrackRef = useRef(null);\r\n  const [isMuted, setIsMuted] = useState(false);\r\n  const [volume, setVolume] = useState(1);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isOnline, setIsOnline] = useState(navigator.onLine);\r\n  const [tracks, setTracks] = useState([]);\r\n  const [schedule, setSchedule] = useState([]);\r\n  const [newTrack, setNewTrack] = useState('');\r\n  const [newTime, setNewTime] = useState('');\r\n  const [alarmName, setAlarmName] = useState(''); // New state for alarm name\r\n  const [currentTime, setCurrentTime] = useState(new Date().toLocaleTimeString('en-GB', { hour12: false }));\r\n  const [profile, setProfile] = useState(null);\r\n  const [errorMessage, setErrorMessage] = useState('');\r\n  const [userInteracted, setUserInteracted] = useState(false);\r\n  const [playingTrack, setPlayingTrack] = useState(null);\r\n  const [highlightEndTime, setHighlightEndTime] = useState(null);\r\n\r\n  useEffect(() => {\r\n    fetchRadioProfile();\r\n    fetchTracks();\r\n    fetchSchedule();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      const now = new Date().toLocaleTimeString('en-GB', { hour12: false });\r\n      setCurrentTime(now);\r\n      const scheduledTrack = schedule.find(track => track.time === now);\r\n      if (scheduledTrack) {\r\n        playScheduledTrack(scheduledTrack.track);\r\n      }\r\n    }, 1000);\r\n    return () => clearInterval(interval);\r\n  }, [schedule, profile, currentTime]);\r\n\r\n  useEffect(() => {\r\n    if (!profile) return;\r\n\r\n    const audioElement = audioRef.current;\r\n    if (!audioElement) return;\r\n\r\n    const handleAudioError = () => {\r\n      console.error('Stream error, attempting to reload the stream...');\r\n    };\r\n\r\n    const handleOnline = () => {\r\n      console.log('Internet connection restored, refreshing the page...');\r\n      setIsOnline(true);\r\n      window.location.reload(true);\r\n    };\r\n\r\n    const handleOffline = () => {\r\n      console.log('Internet connection lost.');\r\n      setIsOnline(false);\r\n    };\r\n\r\n    audioElement.addEventListener('error', handleAudioError);\r\n    window.addEventListener('online', handleOnline);\r\n    window.addEventListener('offline', handleOffline);\r\n\r\n    audioElement.muted = false;\r\n    setIsMuted(false);\r\n\r\n    return () => {\r\n      audioElement.removeEventListener('error', handleAudioError);\r\n      window.removeEventListener('online', handleOnline);\r\n      window.removeEventListener('offline', handleOffline);\r\n    };\r\n  }, [profile]);\r\n\r\n  useEffect(() => {\r\n    const interval = setInterval(() => {\r\n      preloadNextTrack();\r\n    }, 5000); // Check every 5 seconds to preload the next track\r\n    return () => clearInterval(interval);\r\n  }, [schedule, currentTime]);\r\n\r\n  const fetchRadioProfile = async () => {\r\n    try {\r\n      const response = await axios.get(`/radiostreams/${id}`);\r\n      setProfile(response.data);\r\n    } catch (error) {\r\n      console.error('There was an error fetching the radio profile!', error);\r\n    }\r\n  };\r\n\r\n  const fetchTracks = () => {\r\n    axios.get(`/radio/${id}/tracks`)\r\n      .then(response => {\r\n        setTracks(response.data);\r\n      })\r\n      .catch(error => {\r\n        console.error('There was an error fetching the tracks!', error);\r\n      });\r\n  };\r\n\r\n  const fetchSchedule = () => {\r\n    axios.get(`/radio/${id}/schedule`)\r\n      .then(response => {\r\n        setSchedule(response.data);\r\n      })\r\n      .catch(error => {\r\n        console.error('There was an error fetching the schedule!', error);\r\n      });\r\n  };\r\n\r\n  const handlePlay = () => {\r\n    if (!profile || profile.blocked) return;\r\n\r\n    const audioElement = audioRef.current;\r\n    setIsLoading(true);\r\n    audioElement.src = profile.url;\r\n    audioElement.load();\r\n    audioElement.play().then(() => {\r\n      setIsLoading(false);\r\n    }).catch(error => {\r\n      console.error('Error attempting to play the stream:', error);\r\n      setIsLoading(true);\r\n    });\r\n  };\r\n\r\n  const handleUserInteraction = () => {\r\n    setUserInteracted(true);\r\n    handlePlay(); // Automatically play when the user interacts\r\n  };\r\n\r\n  const handleMute = () => {\r\n    if (!audioRef.current) return;\r\n    audioRef.current.muted = !audioRef.current.muted;\r\n    setIsMuted(!isMuted);\r\n  };\r\n\r\n  const handleVolumeChange = (event) => {\r\n    const newVolume = event.target.value;\r\n    if (!audioRef.current) return;\r\n    audioRef.current.volume = newVolume;\r\n    setVolume(newVolume);\r\n  };\r\n\r\n  const playScheduledTrack = (track) => {\r\n    if (!profile || profile.alarmBlocked || !audioRef.current || !scheduledTrackRef.current) return;\r\n\r\n    setPlayingTrack(track);\r\n    fadeOut(audioRef.current, () => {\r\n      scheduledTrackRef.current.src = `/uploads/tracks/${track}`;\r\n      console.log('Track source set to:', scheduledTrackRef.current.src);\r\n      scheduledTrackRef.current.load();\r\n      scheduledTrackRef.current.oncanplaythrough = () => {\r\n        scheduledTrackRef.current.play().catch(error => {\r\n          console.error('Error playing track:', error);\r\n        });\r\n      };\r\n      scheduledTrackRef.current.onended = () => {\r\n        setPlayingTrack(null);\r\n        fadeIn(audioRef.current);\r\n        audioRef.current.play();\r\n      };\r\n\r\n      // Calculate the end time for highlighting\r\n      const trackDuration = scheduledTrackRef.current.duration * 1000; // duration in milliseconds\r\n      const endTime = new Date().getTime() + trackDuration + 20000; // add 20 seconds\r\n      setHighlightEndTime(endTime);\r\n    });\r\n  };\r\n\r\n  const fadeOut = (audio, callback) => {\r\n    let volume = 1.0;\r\n    const fadeAudio = setInterval(() => {\r\n      if (volume > 0.1) {\r\n        volume -= 0.1;\r\n        audio.volume = volume;\r\n      } else {\r\n        clearInterval(fadeAudio);\r\n        audio.volume = 0;\r\n        callback();\r\n      }\r\n    }, 200);\r\n  };\r\n\r\n  const fadeIn = (audio) => {\r\n    let volume = 0;\r\n    const fadeAudio = setInterval(() => {\r\n      if (volume < 0.9) {\r\n        volume += 0.1;\r\n        audio.volume = volume;\r\n      } else {\r\n        clearInterval(fadeAudio);\r\n        audio.volume = 1.0;\r\n      }\r\n    }, 200);\r\n  };\r\n\r\n  const preloadNextTrack = () => {\r\n    const now = new Date();\r\n    const futureTracks = schedule.filter(track => {\r\n      const [hours, minutes, seconds] = track.time.split(':').map(Number);\r\n      const trackTime = new Date();\r\n      trackTime.setHours(hours, minutes, seconds);\r\n      return trackTime > now;\r\n    });\r\n\r\n    if (futureTracks.length > 0) {\r\n      const nextTrack = futureTracks[0];\r\n      const nextTrackTime = new Date();\r\n      const [hours, minutes, seconds] = nextTrack.time.split(':').map(Number);\r\n      nextTrackTime.setHours(hours, minutes, seconds);\r\n\r\n      // Preload the track 60 seconds before the scheduled time\r\n      if (nextTrackTime - now <= 60000 && scheduledTrackRef.current.src !== `/uploads/tracks/${nextTrack.track}`) {\r\n        scheduledTrackRef.current.src = `/uploads/tracks/${nextTrack.track}`;\r\n        scheduledTrackRef.current.load();\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleAddTrack = () => {\r\n    const newSchedule = { track: newTrack, time: newTime, alarmName }; // Include alarm name\r\n    const updatedSchedule = [...schedule, newSchedule];\r\n    setSchedule(updatedSchedule);\r\n    axios.post(`/radio/${id}/schedule`, updatedSchedule)\r\n      .then(response => {\r\n        console.log('Schedule saved to server');\r\n      })\r\n      .catch(error => {\r\n        console.error('Error saving schedule to server', error);\r\n      });\r\n    setNewTrack('');\r\n    setNewTime('');\r\n    setAlarmName(''); // Clear alarm name input\r\n  };\r\n\r\n  const getDaysLeft = (expirationDate, createdDate, subscriptionPlan) => {\r\n    const now = new Date();\r\n    const created = new Date(createdDate);\r\n    const expiration = new Date(expirationDate);\r\n\r\n    let subscriptionDays = 0;\r\n    switch (subscriptionPlan) {\r\n      case '1 Day':\r\n        subscriptionDays = 1;\r\n        break;\r\n      case '1 Month':\r\n        subscriptionDays = 30;\r\n        break;\r\n      case '3 Months':\r\n        subscriptionDays = 90;\r\n        break;\r\n      case '6 Months':\r\n        subscriptionDays = 180;\r\n        break;\r\n      case '1 Year':\r\n        subscriptionDays = 365;\r\n        break;\r\n      default:\r\n        subscriptionDays = 0;\r\n    }\r\n\r\n    const hoursPassed = differenceInHours(now, created);\r\n    const daysPassed = Math.ceil(hoursPassed / 24);\r\n    const daysLeft = subscriptionDays - daysPassed;\r\n\r\n    // console.log(`Current Date: ${now}`);\r\n    // console.log(`Created Date: ${created}`);\r\n    // console.log(`Expiration Date: ${expiration}`);\r\n    // console.log(`Hours Passed: ${hoursPassed}`);\r\n    // console.log(`Days Passed (ceil): ${daysPassed}`);\r\n    // console.log(`Subscription Days: ${subscriptionDays}`);\r\n    // console.log(`Days Left: ${daysLeft}`);\r\n\r\n    return daysLeft;\r\n  };\r\n\r\n  const isNextToPlay = (scheduledTime) => {\r\n    const now = new Date();\r\n    const scheduledDate = new Date();\r\n    const [hours, minutes, seconds] = scheduledTime.split(':').map(Number);\r\n    scheduledDate.setHours(hours, minutes, seconds);\r\n    const differenceInMinutes = (scheduledDate - now) / 60000;\r\n    return differenceInMinutes >= 0 && differenceInMinutes <= 1;\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('token');\r\n    localStorage.removeItem('user');\r\n    navigate('/login');\r\n  };\r\n\r\n  if (!profile) {\r\n    return <div>Loading...</div>;\r\n  }\r\n\r\n  if (profile.blocked) {\r\n    return (\r\n      <div className=\"container vh-100 d-flex flex-column align-items-center justify-content-center\">\r\n        <style>{`\r\n          .blocked-message {\r\n            color: red;\r\n            font-weight: bold;\r\n            font-size: 24px;\r\n          }\r\n        `}</style>\r\n        <div className=\"blocked-message\">Your profile is blocked.</div>\r\n        <div>{profile.companyName}</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <div className=\"d-flex flex-column vh-100\">\r\n        <div className=\"container flex-grow-1 d-flex flex-column\">\r\n          <style>{`\r\n            .radio-player {\r\n              background-color: white;\r\n              border-radius: 8px;\r\n              padding: 20px;\r\n              box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);\r\n              width: 450px;\r\n            }\r\n            .radio-player h1 {\r\n              font-size: 24px;\r\n              font-weight: bold;\r\n            }\r\n            .radio-player img {\r\n              max-width: 100%;\r\n              height: auto;\r\n              padding: 10px;\r\n              box-sizing: border-box;\r\n            }\r\n            .radio-player .form-control-range {\r\n              width: 100%;\r\n            }\r\n            .radio-player .btn {\r\n              width: 100%;\r\n            }\r\n            .radio-player .profile-info h2 {\r\n              margin-top: 20px;\r\n              font-size: 18px;\r\n              font-weight: bold;\r\n            }\r\n            .radio-player .profile-info p {\r\n              font-size: 16px;\r\n            }\r\n            .radio-player .list-group-item {\r\n              margin-top: 10px;\r\n              background-color: #f8f9fa;\r\n              border: 1px solid #dee2e6;\r\n              transition: background-color 0.3s, transform 0.3s;\r\n            }\r\n            .radio-player .list-group-item:hover {\r\n              background-color: #e9ecef;\r\n              transform: scale(1.02);\r\n            }\r\n            .radio-player .list-group-item.active {\r\n              background-color: #007bff;\r\n              color: white;\r\n            }\r\n            .action-buttons {\r\n              position: absolute;\r\n              top: 10px;\r\n              right: 10px;\r\n              display: flex;\r\n              gap: 10px;\r\n            }\r\n            .header {\r\n              text-align: center;\r\n              margin-bottom: 10px;\r\n            }\r\n            .header h1 {\r\n              font-size: 2rem;\r\n              margin-top: 20px;\r\n            }\r\n            .header h2 {\r\n              font-size: 1rem;\r\n              margin: 0;\r\n            }\r\n            .subscription-info {\r\n              text-align: center;\r\n              font-size: 1rem;\r\n              margin-top: 10px;\r\n            }\r\n            .card {\r\n              width: 100%;\r\n              background-color: #f8f9fa;\r\n              border: 1px solid #dee2e6;\r\n              box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);\r\n            }\r\n          `}</style>\r\n          <div className=\"action-buttons\">\r\n            {profile.alarmBlocked ? (\r\n              <button className=\"btn btn-primary\" disabled>Go to Profile</button>\r\n            ) : (\r\n              <Link to={`/radio/${id}/profile`}>\r\n                <button className=\"btn btn-primary\">Go to Profile</button>\r\n              </Link>\r\n            )}\r\n            <Link to={`/localplayer/${id}`}>\r\n              <button className=\"btn btn-info\">Go to Local Player</button>\r\n            </Link>\r\n            <button className=\"btn btn-secondary\" onClick={handleLogout}>Logout</button>\r\n          </div>\r\n          <div className=\"header\">\r\n          <h1>{profile.name} - {profile.companyName}</h1>\r\n            <div className=\"subscription-info\">\r\n              <p>Subscription Plan: {profile.subscriptionPlan}<br />\r\n              Days left to expire: {getDaysLeft(profile.expirationDate, profile.createdDate, profile.subscriptionPlan)}</p>\r\n            </div>\r\n          </div>\r\n          <div className=\"row flex-grow-1 align-items-start\">\r\n            <div className=\"col-md-6 d-flex justify-content-center\">\r\n              <div className=\"radio-player text-center\" onClick={handleUserInteraction}>\r\n                {profile.logo && <img src={`/uploads/${profile.logo}`} alt=\"Company Logo\" className=\"img-fluid mb-3\" />}\r\n                <audio ref={audioRef} preload=\"none\" style={{ display: 'none' }}></audio>\r\n                <div className=\"mb-3\">\r\n                  <button className=\"btn btn-danger btn-block mb-2\" onClick={handlePlay}>Live</button>\r\n                  <button className=\"btn btn-danger btn-block mb-2\" onClick={handleMute}>{isMuted ? 'Unmute' : 'Mute'}</button>\r\n                </div>\r\n                <div className=\"mb-3\">\r\n                  <input\r\n                    type=\"range\"\r\n                    className=\"form-control-range\"\r\n                    min=\"0\"\r\n                    max=\"1\"\r\n                    step=\"0.01\"\r\n                    value={volume}\r\n                    onChange={handleVolumeChange}\r\n                  />\r\n                </div>\r\n                {isLoading && <p>Connecting...</p>}\r\n                {!isOnline && <p>No connection.</p>}\r\n                {errorMessage && <p>{errorMessage}</p>}\r\n              </div>\r\n            </div>\r\n            <div className=\"col-md-6 d-flex justify-content-center\">\r\n              {profile.alarmBlocked ? (\r\n                <div className=\"card text-center p-4\">\r\n                  <div className=\"card-header\">\r\n                    <h2>Alarm System is blocked</h2>\r\n                  </div>\r\n                  <p style={{ color: 'red', fontWeight: 'bold' }}>The alarm system for this profile is currently blocked.</p>\r\n                </div>\r\n              ) : (\r\n                <div className=\"card text-center p-4\">\r\n                  <div className=\"card-header\">\r\n                    <h2>Scheduled Tracks</h2>\r\n                    <div className=\"scheduled-player\">\r\n                    <br></br>\r\n                    <audio ref={scheduledTrackRef} controls preload=\"none\" style={{ width: '100%' }}></audio> {/* Scheduled track player */}\r\n                  </div>\r\n                  </div>\r\n                  <ul className=\"list-group list-group-flush\">\r\n                    {schedule.map((item, index) => {\r\n                      const isPlaying = item.track === playingTrack;\r\n                      const isHighlighted = highlightEndTime && new Date().getTime() < highlightEndTime;\r\n                      return (\r\n                        <li\r\n                          key={index}\r\n                          className={`list-group-item d-flex justify-content-between align-items-center ${isPlaying || isHighlighted ? 'bg-warning' : ''}`}\r\n                          style={isNextToPlay(item.time) ? { fontWeight: 'bold', backgroundColor: '#ffecb3' } : {}}\r\n                        >\r\n                          <span\r\n                            className=\"dot\"\r\n                            style={{\r\n                              height: '10px',\r\n                              width: '10px',\r\n                              backgroundColor: '#ff0000',\r\n                              borderRadius: '50%',\r\n                              display: 'inline-block',\r\n                              marginRight: '10px'\r\n                            }}\r\n                          ></span>\r\n                          {item.time}  - {item.alarmName} {/* Display alarm name */}\r\n                          {/* {item.track.split('-').slice(1).join('-')} */}\r\n                        </li>\r\n                      );\r\n                    })}\r\n                  </ul>\r\n                 \r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <br />\r\n        <Footer />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RadioPlayer;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}